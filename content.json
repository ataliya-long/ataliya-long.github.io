{"meta":{"title":"å°å¡”çš„ä¸ªäººåšå®¢","subtitle":"","description":"","author":"Ataliya","url":"http://example.com","root":"/"},"pages":[{"title":"æš‚æ— ","date":"2024-01-11T11:53:26.000Z","updated":"2024-01-11T12:42:37.938Z","comments":true,"path":"404/index.html","permalink":"http://example.com/404/index.html","excerpt":"","text":""},{"title":"å…³äºä½œè€…","date":"2024-01-11T12:43:54.000Z","updated":"2024-01-11T12:55:29.168Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"æˆ‘ï¼ŒAtaliyaï¼Œè‡ªè¨€è‡ªè¯­å…­çº§ï¼Œå¿ƒé‡Œè¯å…«çº§ï¼ŒèŠ±å¼å•èº«å¤§èµ›èµ›åŒºå† å†›ï¼Œäº’è”ç½‘å†²æµªèµ„æ·±é€‰æ‰‹ï¼Œèµ–åºŠé”¦æ ‡èµ›å† å†›å¾—ä¸»ï¼Œäºšæ´²é…¸æŸ æª¬æ¨å¹¿å¤§ä½¿ï¼Œç†¬å¤œæ¯æ›¾åäº”æ¬¡å¤ºå† ï¼Œè¿™ä¹ˆå‰å®³çš„æˆ‘ï¼Œä¸æ‰“ç®—å–œæ¬¢ä¸€ä¸‹å—ï¼Ÿ"},{"title":"search","date":"2024-01-11T11:53:13.000Z","updated":"2024-01-11T11:53:13.158Z","comments":true,"path":"search/index.html","permalink":"http://example.com/search/index.html","excerpt":"","text":""}],"posts":[{"title":"å®‰è£…docker compose","slug":"å®‰è£…docker-compose","date":"2024-01-12T07:17:44.000Z","updated":"2024-01-12T07:18:12.793Z","comments":true,"path":"2024/01/12/å®‰è£…docker-compose/","permalink":"http://example.com/2024/01/12/%E5%AE%89%E8%A3%85docker-compose/","excerpt":"","text":"å®‰è£…docker compose é¦–å…ˆï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† Dockerã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·è®¿é—® Docker å®˜ç½‘ è·å–é€‚ç”¨äºæ‚¨æ“ä½œç³»ç»Ÿçš„å®‰è£…æŒ‡å—ã€‚ æŒ‰ç…§æ‚¨çš„æ“ä½œç³»ç»Ÿçš„æŒ‡å—å®‰è£… docker-composeï¼š å¯¹äº Linuxï¼š è¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… docker-composeï¼š 1sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose æ›´æ”¹ docker-compose çš„æƒé™ä»¥ä½¿å…¶å¯æ‰§è¡Œï¼š 1sudo chmod +x /usr/local/bin/docker-compose ç¡®è®¤å®‰è£…æˆåŠŸï¼š 1docker-compose --version å¯¹äº macOSï¼š å¦‚æœæ‚¨å·²ç»å®‰è£…äº† Homebrewï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… docker-composeï¼š 1brew install docker-compose æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¸‹è½½ Docker Desktop for Macï¼Œå…¶ä¸­åŒ…å« docker-composeã€‚ å¯¹äº Windowsï¼š å¯¹äº Windows ç”¨æˆ·ï¼Œå»ºè®®å®‰è£… Docker Desktop for Windowsã€‚å®‰è£…å®Œæˆåï¼Œdocker-compose å°†è‡ªåŠ¨åŒ…å«åœ¨å…¶ä¸­ã€‚ å®‰è£…å®Œæˆåï¼Œå°è¯•å†æ¬¡è¿è¡Œ docker-composeã€‚å¦‚æœä»ç„¶å‡ºç°å‘½ä»¤æœªæ‰¾åˆ°çš„é”™è¯¯ï¼Œè¯·æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¦åœ¨æ‚¨çš„ç³»ç»Ÿ PATH ä¸­ã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨å°†å…¶æ·»åŠ åˆ° PATHã€‚","categories":[],"tags":[]},{"title":"å®‰è£…docker machine","slug":"å®‰è£…docker-machine","date":"2024-01-12T07:16:29.000Z","updated":"2024-01-12T07:16:45.755Z","comments":true,"path":"2024/01/12/å®‰è£…docker-machine/","permalink":"http://example.com/2024/01/12/%E5%AE%89%E8%A3%85docker-machine/","excerpt":"","text":"å®‰è£…Docker Machine Docker Machine æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œç”¨äºåœ¨å„ç§å¹³å°ä¸Šå®‰è£…å’Œç®¡ç† Dockerã€‚ä»¥ä¸‹æ˜¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå®‰è£… Docker Machine çš„æ–¹æ³•ï¼š å¯¹äº macOS å’Œ Windowsï¼š å¯¹äº macOS å’Œ Windows ç”¨æˆ·ï¼Œå»ºè®®å®‰è£… Docker Desktopï¼Œå®ƒåŒ…å« Docker Machineã€‚è®¿é—® Docker å®˜ç½‘ï¼Œæ ¹æ®æ‚¨çš„æ“ä½œç³»ç»Ÿé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½å’Œå®‰è£…ã€‚ å¯¹äº Linuxï¼š ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Docker Machine äºŒè¿›åˆ¶æ–‡ä»¶ï¼š 123base=https://github.com/docker/machine/releases/download/v0.16.2 &amp;&amp;curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/tmp/docker-machine &amp;&amp;sudo install /tmp/docker-machine /usr/local/bin/docker-machine ä¸Šè¿°å‘½ä»¤å°†ä¸‹è½½ v0.16.2 ç‰ˆæœ¬çš„ Docker Machineã€‚æ‚¨å¯ä»¥è®¿é—® Docker Machine å‘å¸ƒé¡µé¢ æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å¹¶ç›¸åº”åœ°æ›´æ–°ä¸Šè¿°å‘½ä»¤ã€‚ æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š 1sudo chmod +x /usr/local/bin/docker-machine éªŒè¯å®‰è£…ï¼š 1docker-machine version å¦‚æœå®‰è£…æˆåŠŸï¼Œæ‚¨å°†çœ‹åˆ° Docker Machine çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ å®‰è£… Bash Completionï¼ˆå¯é€‰ï¼‰ï¼š ä¸ºäº†è·å¾—æ›´å¥½çš„å‘½ä»¤è¡Œä½“éªŒï¼Œæ‚¨å¯ä»¥å®‰è£… Docker Machine çš„ Bash Completionã€‚ä»¥ä¸‹æ˜¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå®‰è£…çš„æ–¹æ³•ï¼š å¯¹äº macOSï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Homebrew å®‰è£…ï¼š 12brew install bash-completion å¯¹äº Linuxï¼ˆDebian&#x2F;Ubuntuï¼‰ï¼š 1sudo apt-get install bash-completion å¯¹äºå…¶ä»– Linux å‘è¡Œç‰ˆï¼Œè¯·æŸ¥é˜…ç›¸åº”æ–‡æ¡£ä»¥è·å–æ­£ç¡®çš„å®‰è£…å‘½ä»¤ã€‚ ç„¶åï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ ~/.bashrcã€~/.bash_profile æˆ– ~/.profile æ–‡ä»¶ä¸­ï¼š 123if [ -f $(brew --prefix)/etc/bash_completion ]; then . $(brew --prefix)/etc/bash_completionfi é‡æ–°å¯åŠ¨ç»ˆç«¯ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚ ç°åœ¨ï¼Œæ‚¨åº”è¯¥å·²ç»æˆåŠŸå®‰è£…äº† Docker Machineã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ docker-machine å‘½ä»¤æŸ¥çœ‹å¯ç”¨é€‰é¡¹å’Œå­å‘½ä»¤ã€‚è¦äº†è§£å¦‚ä½•ä½¿ç”¨ Docker Machineï¼Œè¯·å‚é˜… Docker Machine å®˜æ–¹æ–‡æ¡£ã€‚","categories":[],"tags":[]},{"title":"å®‰è£…å¸è½½mysql","slug":"å®‰è£…å¸è½½mysql","date":"2024-01-12T07:14:19.000Z","updated":"2024-01-12T07:15:04.307Z","comments":true,"path":"2024/01/12/å®‰è£…å¸è½½mysql/","permalink":"http://example.com/2024/01/12/%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BDmysql/","excerpt":"","text":"ä¸€ï¼ŒLinuxçš„YUMåœ¨çº¿çš„MySQL5.7å®‰è£…ğŸ˜˜ å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œè¦å­¦ä¹ Mysqlçš„çŸ¥è¯†ï¼Œé¦–å…ˆå…ˆå¿…é¡»å®‰è£…Mysqlï¼Œæœ¬æ•™ç¨‹æä¾›ä¸¤ç§Mysqlçš„å®‰è£…æ–¹æ³• é—®é¢˜æè¿°ä¸€èˆ¬é€šè¿‡yumçš„åœ¨çº¿å®‰è£…ï¼Œä½†æ˜¯å¦‚æœæ›´æ¢æºä»¥åä¼šå‡ºç°mysql-serveræŒ‰è£…åŒ…æ‰¾ä¸åˆ°çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯ä»¥è€ƒè™‘ç”¨rpmåŒ…æ¥å®‰è£…ï¼Œæœ€åå†æ‰§è¡Œyum install mysql-server rpmåŒ…çš„å®‰è£…æ–¹å¼ï¼šmysql_å…è´¹é«˜é€Ÿä¸‹è½½|ç™¾åº¦ç½‘ç›˜-åˆ†äº«æ— é™åˆ¶ (baidu.com) ,å…·ä½“å¦‚ä½•æ”¾æ–‡ä»¶ï¼Œè‡ªå·±å†³å®šï¼Œå¯ä»¥é€šè¿‡SFTPæ¥ä¼ è¾“ã€‚ Ï†(*ï¿£0ï¿£)å®‰è£…æ•°æ®åº“ 1.ä¼ è¾“å®Œæˆåï¼š yum -y install ä½ ä¸‹çš„åŒ….rpm è¿™æ ·åšçš„åŸå› æ˜¯é˜¿é‡Œå®˜ç½‘çš„yumåº“æ²¡æœ‰æ­¤è½¯ä»¶åŒ…ï¼Œæ‰€ä»¥ä½ å¿…é¡»è‡ªå·±å®‰è£…ä¾èµ–ã€‚ 2.å¦‚æœæ‰§è¡ŒæˆåŠŸåï¼š yum -y install mysql-server 3.å¯åŠ¨mysqlæœåŠ¡ï¼š systemctl start mysqld æˆ–è€… service mysqld start 4.è®¾ç½®mysqlæœåŠ¡è‡ªå¯åŠ¨ systemctl enable mysqld 5.æŸ¥çœ‹æ•°æ®åº“å¯†ç  cat /var/log/mysqld.log | grep password , æˆ–ç€ä½ ä¸æƒ³æŸ¥çœ‹ä¹Ÿå¯ä»¥ï¼Œå¯ä»¥åœ¨ &#x2F;etc&#x2F;my.cnf ä¸­ç¼–è¾‘ ï¼ŒåŠ å…¥ä¸€å¥è¯å« skip-grant-tables è¿™å¥è¯çš„æ„æ€æ˜¯è¯´ï¼Œå¯ä»¥ä¸ç”¨è¾“å…¥å¯†ç è¿›å…¥mysqlæœåŠ¡å™¨ä¸­ã€‚ mysql -uroot -p q(â‰§â–½â‰¦q)å½“è¿›å…¥æ•°æ®åº“ä¸­ é¦–å…ˆå…ˆæ‰§è¡Œä¸€ç¼– flush privileges; ç„¶åå†è¿›å…¥ä¿®æ”¹å¯†ç ï¼šset password for 'root'@'localhost'=password('ä½ çš„å¯†ç ');ï¼Œå¦‚æœæç¤ºå¯†ç ä¸ç¬¦åˆè§„å®šçš„è¯ã€‚ï¼ˆps å¦‚æœæ˜¯æ–°ç‰ˆçš„mysqlçš„è¯ç›´æ¥è¾“å…¥set password=\"xxxx\"å°±è¡Œ å°±æ‰§è¡Œ set global validate_password_policy=0; #å°†å¯†ç å¼ºåº¦è®¾ç½®ä¸ºæœ€ä½ ç„¶å flush privileges;æœ€åå†æ‰§è¡Œä¸€ä¸‹ä½ çš„setå¯†ç çš„è¯­å¥ï¼Œç„¶åå†flush privileges; æœ€åexitï¼Œå†è¿›å…¥mysqlè¯•è¯•ã€‚ ï¼ˆï¿£ï¸¶ï¿£ï¼‰â†— Mysqlçš„è¿œç¨‹è¿æ¥ å½“ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œå¦‚æœæˆåŠŸè¿›å…¥mysqläº†,çœ‹åˆ°mysql&gt;çš„è¯ï¼Œé‚£ä¹ˆå°±è¯•è¯•è¿œç¨‹è¿æ¥ é¦–å…ˆå…ˆ ï¼šuse mysql; ç¬¬äºŒæ­¥ ï¼šupdate user set host='%' where user ='root'; æœ€å ï¼š flush privileges; æœ€åï¼Œæœ€åï¼Œæœ€å ï¼ï¼ï¼ï¼ï¼ å¦‚æœè¿æ¥ä¸æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆè¯·å…³é—­é˜²ç«å¢™ï¼Œsystemctl stop firewalld.serviceæˆ–è€… firewall-cmd --zone=public --add-port=3306/tcp --permanentå¦‚æœæ‚¨ä½¿ç”¨é˜¿é‡Œäº‘çš„äº‘æœåŠ¡å™¨ï¼Œå› ä¸ºä½œè€…æ˜¯ä½¿ç”¨æœ¬æœºçš„linuxæœåŠ¡å™¨çš„ï¼Œæ‰€ä»¥å¤šä¸€ä¸ªæ­¥éª¤å°±æ˜¯å°†åœ¨é˜¿é‡Œäº‘å¼€å¯3306ç«¯å£ã€‚ äºŒï¼ŒLinuxçš„ç¦»çº¿çš„MySQL5.7å®‰è£…ğŸ˜˜ ( â€¢Ì€ Ï‰ â€¢Ì )âœ§é¦–å…ˆå…ˆè‡ªå·±ä¸‹è½½ https://dev.mysql.com/downloads/mysql/ Mysqlçš„ç¦»çº¿åŒ…ï¼Œé€‰æ‹©ç¬¬äºŒä¸ª64ä½çš„ Linux-Generic ä¸‹è½½äº†åŒ…ä»¥åç”¨SFTPè½¯ä»¶ä¼ åˆ°ä½ æƒ³å®‰è£…çš„ç›®å½•ä¸‹ ç¬¬ä¸€æ­¥ï¼šå…ˆçœ‹çœ‹LinuxæœåŠ¡å™¨ä¸­æœ‰æ²¡æœ‰ Mariadbï¼Œæœ‰çš„è¯å…ˆå¸è½½ï¼Œå¸è½½æ²¡é‡åˆ°è¿‡ï¼Œå¯ä»¥å»ç™¾åº¦ï¼Œä»¥ä¸ºä½œè€…çš„æœåŠ¡å™¨çš„å•¥æ ·ä¸æ˜¯ ç¬¬äºŒæ­¥ï¼šåˆ é™¤&#x2F;etc&#x2F;my.cnfæ–‡ä»¶ï¼Œå› ä¸ºä¼šå½±å“é…ç½®ï¼Œæ‰€ä»¥å…ˆå¸è½½äº†å†è¯´ï¼Œåé¢å¯ä»¥å†åŠ ä¸Šå» ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºmysqlç”¨æˆ·ç»„: groupadd mysql ç¬¬å››æ­¥ï¼šåŠ å…¥åˆ°mysqlç”¨æˆ·ç»„é‡Œé¢ useradd -g mysql mysql æ³¨æ„ï¼ï¼ä½œè€…ä¹‹å‰æ“ä½œé—®é¢˜ï¼Œå¥½åƒæœ‰mysqlç”¨æˆ·ç»„ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå…ˆæ‰§è¡Œä¸€ä¸‹ï¼Œæå‡æœ‰çš„è¯ï¼Œå¯ä»¥è·³è¿‡ç¬¬ä¸‰éƒ¨å’Œç¬¬å››æ­¥ è¿›å…¥ä½ åˆ›å»ºçš„ç›®å½•ä¸‹ï¼Œæ¯”å¦‚ mkdir /dataï¼Œå°†ä½ çš„å‹ç¼©åŒ…æ”¾åœ¨dataä¸‹é¢ï¼Œç„¶åæ‰§è¡Œè§£å‹æ“ä½œï¼štar -zxvf xxxxx.tar.gz è§£å‹ä»¥åå°†è§£å‹çš„æ–‡ä»¶è¿›è¡Œé‡å‘½åæ“ä½œ mv xxxx mysql ç„¶åæ–°å»ºä¸€ä¸ªvi /etc/my.cnfï¼Œå¹¶ä¸”åœ¨é‡Œé¢å†™ [mysql]default-character-set&#x3D;utf8socket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sock[mysqld]skip-name-resolveport&#x3D;3306socket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sockbasedir&#x3D;&#x2F;data&#x2F;mysql #ä¸»è¦è¿™é‡Œæ˜¯mysqlå®‰è£…è·¯å¾„datadir&#x3D;&#x2F;data&#x2F;mysql&#x2F;data #è¿™é‡Œä¸»è¦æ˜¯mysqlå­˜å‚¨è·¯å¾„ï¼Œä»¥ä½ åˆ›å»ºçš„ä¸ºä¾‹max_connections&#x3D;200character-set-server&#x3D;utf8default-storage-engine&#x3D;INNODBlower_case_table_names&#x3D;1max_allowed_packet&#x3D;16M :xä¿å­˜é€€å‡º ç¬¬äº”æ­¥ï¼šè®¾ç½®mysqlç”¨æˆ·ï¼š mkdir /var/lib/mysql mkdir /var/lib/mysql/mysql chown -R mysql:mysql /var/lib/mysql chown -R mysql:mysql /var/lib/mysql/mysql ç¬¬å…­æ­¥ï¼š è¿›å…¥å®‰è£…mysqlè½¯ä»¶ç›®å½• cd /data/mysql chown -R mysql:mysql ./ cd bin ./mysqld --user=mysql --basedir=/data/mysql --datadir=/data/mysql/data/ --initialize cd /data/mysql chown -R mysql:mysql data #ä¿®æ”¹å½“å‰dataç›®å½•æ‹¥æœ‰è€…ä¸ºmysqlç”¨æˆ· ç¬¬ä¸ƒæ­¥ï¼š ä¿®æ”¹æƒé™ï¼š chmod +x /etc/my.cnf å¤åˆ¶å¯åŠ¨è„šæœ¬åˆ°èµ„æºç›®å½•cd /home/mysql/ cp ./support-files/mysql.server /etc/init.d/mysqld åŠ å…¥æƒé™: chmod +x /etc/init.d/mysqld å°†mysqldæœåŠ¡åŠ å…¥åˆ°ç³»ç»ŸæœåŠ¡chkconfig --add mysqld æ£€æŸ¥mysqldæœåŠ¡æ˜¯å¦å·²ç»ç”Ÿæ•ˆchkconfig --list mysqldï¼Œå¦‚æœå‡ºç°mysqld 0:off 1:off 2:on 3:on 4:on 5:on 6 è¯´æ˜æˆåŠŸ å°†mysqlçš„binç›®å½•åŠ å…¥PATHç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘&#x2F;etc&#x2F;profileæ–‡ä»¶vi /etc/profile export PATH=$PATH:/data/mysql/bin source /etc/profile #æœ€åæ‰§è¡Œç”Ÿæ•ˆ ğŸåˆ°æœ€åmysqlç¦»çº¿ç‰ˆæœ¬ç®—æ˜¯å®‰è£…å®Œæˆäº†ï¼Œåé¢è¿œç¨‹è¿æ¥ï¼Œä¿®æ”¹å¯†ç æ“ä½œå‚è€ƒç¬¬ä¸€ä¸ªyumåœ¨çº¿å®‰æ•™ç¨‹çš„è¿æ¥æ–¹æ³•ã€‚ ä¸‰ï¼ŒLinuxå®Œå…¨å¸è½½MySQL5.7ğŸ˜˜ å¦‚æœè¦å®Œå®Œå…¨å…¨åˆ é™¤mysqlï¼Œä¸èƒ½ç”¨yum remove æ“ä½œï¼Œå› ä¸ºåˆ ä¸å¹²å‡€ï¼Œè¿˜ä¼šæœ‰æ®‹ç•™åŒ…ï¼Œå› ä¸ºä½œè€…æ˜¯ç¦»çº¿å®‰è£…æ‰€ä»¥æ²¡æœ‰å›¾ç‰‡å±•ç¤º é¦–å…ˆï¼šå…ˆæŸ¥çœ‹mysqlçš„ç»„ä»¶åŒ…: rpm -qa | grep -i mysql ç¬¬äºŒæ­¥ï¼šå…³é—­mysqlæœåŠ¡ï¼š service mysqld stop æˆ–è€… systemctl stop mysqld ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹mysqlå¯¹åº”æ–‡ä»¶å¤¹: find / -name mysql ç¬¬å››æ­¥ï¼šåˆ é™¤ç»„ä»¶ï¼šrpm -ev â€“nodeps xxxxç»„ä»¶åŒ…å ç¬¬äº”æ­¥ï¼šåˆ é™¤mysqlæ‰€ä»¥æœ‰é…ç½®æ–‡ä»¶å¤¹ï¼š rm -rf /var/lib/mysql,ä¸æ­¢è¿™ä¹ˆå¤šï¼Œç¬¬ä¸‰æ­¥åˆ—å‡ºæ¥çš„æœ‰ä»€ä¹ˆå°±åˆ é™¤ä»€ä¹ˆ æœ€åï¼šæ‰§è¡Œç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥å¦‚ä½•å•¥ä¹Ÿæ²¡æœ‰å°±è¯´æ˜å½»åº•å¸è½½äº†","categories":[],"tags":[]},{"title":"caddy å‡ºç°çš„é—®é¢˜","slug":"caddy","date":"2024-01-11T14:01:53.000Z","updated":"2024-01-12T01:49:03.592Z","comments":true,"path":"2024/01/11/caddy/","permalink":"http://example.com/2024/01/11/caddy/","excerpt":"","text":"Caddyè§£å†³404é—®é¢˜ è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯ç”±äºCaddyé»˜è®¤ä¸æ”¯æŒå•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„è·¯ç”±æœºåˆ¶å¯¼è‡´çš„ã€‚å½“æ‚¨åˆ·æ–°æµè§ˆå™¨æ—¶ï¼Œè¯·æ±‚ä¼šç›´æ¥å‘é€åˆ°CaddyæœåŠ¡å™¨ï¼Œç”±äºCaddyä¸çŸ¥é“å¦‚ä½•å¤„ç†è¿™ä¸ªç‰¹å®šçš„è·¯ç”±ï¼Œå› æ­¤è¿”å›404é”™è¯¯ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨éœ€è¦é…ç½®Caddyfileæ¥å¤„ç†å•é¡µåº”ç”¨çš„è·¯ç”±ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªCaddyfileçš„ç¤ºä¾‹é…ç½®ï¼Œå®ƒä¸ºæ‚¨çš„å•é¡µåº”ç”¨æä¾›äº†ä¸€ä¸ªé€šç”¨çš„å›é€€æœºåˆ¶ã€‚å®ƒå°†ç¡®ä¿æ‰€æœ‰æœªçŸ¥çš„è¯·æ±‚éƒ½ä¼šå›é€€åˆ°æ‚¨çš„index.htmlæ–‡ä»¶ï¼Œè¿™å°†å…è®¸å‰ç«¯è·¯ç”±å™¨æ­£ç¡®å¤„ç†è¯·æ±‚ï¼š 12345your_domain.comroot * /path/to/your/projectfile_servertry_files &#123;path&#125; /index.html åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè¯·æ›¿æ¢your_domain.comä¸ºæ‚¨çš„å®é™…åŸŸåï¼Œå°†&#x2F;path&#x2F;to&#x2F;your&#x2F;projectæ›¿æ¢ä¸ºæ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚è¿™ä¸ªé…ç½®æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªtry_filesæŒ‡ä»¤ï¼Œå®ƒä¼šå°è¯•æŒ‰ç…§é¡ºåºæä¾›åˆ—è¡¨ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœå½“å‰è¯·æ±‚çš„è·¯å¾„åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å­˜åœ¨ï¼Œå®ƒä¼šå›é€€åˆ°&#x2F;index.htmlæ–‡ä»¶ã€‚è¿™å°†ç¡®ä¿å½“æ‚¨åˆ·æ–°æµè§ˆå™¨æ—¶ï¼Œå‰ç«¯è·¯ç”±å™¨å¯ä»¥æ¥ç®¡å¹¶æ­£ç¡®å¤„ç†è¯·æ±‚ã€‚ä¿å­˜æ›´æ”¹åï¼Œé‡æ–°å¯åŠ¨CaddyæœåŠ¡ä»¥åº”ç”¨æ–°çš„é…ç½®ã€‚ç°åœ¨ï¼Œæ‚¨çš„å•é¡µåº”ç”¨åº”è¯¥å¯ä»¥åœ¨åˆ·æ–°æµè§ˆå™¨åæ­£å¸¸å·¥ä½œã€‚ åœ¨Caddyfileä¸­ï¼Œ{path}æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œè¡¨ç¤ºå½“å‰è¯·æ±‚çš„è·¯å¾„ã€‚å½“ä½¿ç”¨try_filesæŒ‡ä»¤æ—¶ï¼Œå®ƒä¼šå°è¯•æŒ‰ç…§åˆ—è¡¨ä¸­çš„é¡ºåºæä¾›æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­: 1try_files &#123;path&#125; /index.html {path}è¡¨ç¤ºå½“å‰è¯·æ±‚çš„å®é™…è·¯å¾„ã€‚try_filesé¦–å…ˆå°è¯•ä½¿ç”¨è¿™ä¸ªè·¯å¾„æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚å¦‚æœæ‰¾åˆ°äº†åŒ¹é…çš„æ–‡ä»¶ï¼ŒCaddyä¼šå°†è¯¥æ–‡ä»¶æä¾›ç»™å®¢æˆ·ç«¯ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡ä»¶ï¼Œtry_fileså°†æŒ‰ç…§åˆ—è¡¨ä¸­çš„é¡ºåºå°è¯•ä¸‹ä¸€ä¸ªé€‰é¡¹ï¼Œè¿™é‡Œæ˜¯&#x2F;index.htmlã€‚æ‰€ä»¥{path}ç¡®ä¿Caddyé¦–å…ˆå°è¯•æä¾›å½“å‰è¯·æ±‚çš„å®é™…è·¯å¾„ã€‚å¦‚æœæ‰¾ä¸åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œå®ƒå°†å›é€€åˆ°&#x2F;index.htmlã€‚è¿™åœ¨å¤„ç†å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­çš„å‰ç«¯è·¯ç”±æ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ç¡®ä¿å½“è¯·æ±‚çš„è·¯å¾„åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å­˜åœ¨æ—¶ï¼Œå‰ç«¯è·¯ç”±å™¨ä»ç„¶å¯ä»¥æ¥ç®¡å¹¶æ­£ç¡®å¤„ç†è¯·æ±‚ã€‚ å¦‚æœè¿™ä¸ªä»¥ä¸Šæ–¹æ³•ä¸æˆåŠŸçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š ä½ çš„é—®é¢˜å¯èƒ½ä¸Caddyé…ç½®æ–‡ä»¶çš„å¤„ç†é¡ºåºæœ‰å…³ã€‚è¯·å°è¯•ä»¥ä¸‹Caddyfileé…ç½®ï¼š 12345678your_domain.comroot * /path/to/your/projectfile_serverrewrite * &#123;path&#125; /index.htmlroute &#123; try_files &#123;path&#125; /index.html&#125; è¿™ä¸ªé…ç½®æ–‡ä»¶é¦–å…ˆå°è¯•ä½¿ç”¨rewriteæŒ‡ä»¤é‡å†™æ‰€æœ‰è¯·æ±‚ã€‚ç„¶åï¼Œå®ƒä½¿ç”¨routeå—æ¥å®šä¹‰ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æµç¨‹ã€‚try_filesæŒ‡ä»¤è¢«åŒ…å«åœ¨routeå—å†…ï¼Œå®ƒé¦–å…ˆå°è¯•æä¾›å½“å‰è¯·æ±‚çš„å®é™…è·¯å¾„ï¼ˆ{path}ï¼‰ï¼Œå¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„æ–‡ä»¶ï¼Œåˆ™ä¼šå›é€€åˆ°&#x2F;index.htmlã€‚è¯·å°†your_domain.comæ›¿æ¢ä¸ºæ‚¨çš„å®é™…åŸŸåï¼Œå°†&#x2F;path&#x2F;to&#x2F;your&#x2F;projectæ›¿æ¢ä¸ºæ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚æ›´æ–°Caddyfileåï¼Œé‡æ–°å¯åŠ¨CaddyæœåŠ¡ä»¥åº”ç”¨æ–°çš„é…ç½®ã€‚åˆ·æ–°æµè§ˆå™¨åï¼Œæ‚¨çš„å•é¡µåº”ç”¨åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æ£€æŸ¥Caddyçš„æ—¥å¿—ä»¥è·å–æœ‰å…³é”™è¯¯çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¹¶ç¡®ä¿æ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹å’Œindex.htmlæ–‡ä»¶çš„è·¯å¾„æ­£ç¡®ã€‚ Caddyæ—¥å¿— Caddyçš„æ—¥å¿—ä½ç½®å–å†³äºæ‚¨çš„æ“ä½œç³»ç»Ÿå’ŒCaddyçš„å®‰è£…æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¯èƒ½çš„æ—¥å¿—ä½ç½®ï¼šå¦‚æœæ‚¨æ˜¯é€šè¿‡å‘½ä»¤è¡Œæ‰‹åŠ¨è¿è¡ŒCaddyï¼ˆä¾‹å¦‚ï¼šcaddy runï¼‰ï¼Œåˆ™æ—¥å¿—å°†ç›´æ¥è¾“å‡ºåˆ°å‘½ä»¤è¡Œç»ˆç«¯ã€‚å¦‚æœæ‚¨æ˜¯ä½¿ç”¨Systemdç®¡ç†çš„CaddyæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ—¥å¿—ï¼šsudo journalctl -u caddy --since todayè¿™å°†æ˜¾ç¤ºä»Šå¤©çš„CaddyæœåŠ¡æ—¥å¿—ã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒæ•´â€“sinceå‚æ•°æ¥æŸ¥çœ‹æ›´æ—©çš„æ—¥å¿—ã€‚å¦‚æœCaddyå·²é…ç½®ä¸ºå°†æ—¥å¿—å†™å…¥æ–‡ä»¶ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦æŸ¥æ‰¾Caddyfileä¸­æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚ä¾‹å¦‚ï¼ŒCaddyfileä¸­å¯èƒ½åŒ…å«å¦‚ä¸‹é…ç½®ï¼š 123log &#123; output file /var/log/caddy/caddy.log&#125; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åœ¨&#x2F;var&#x2F;log&#x2F;caddy&#x2F;caddy.logæ‰¾åˆ°æ—¥å¿—ã€‚å¦‚æœæ‚¨ä¸ç¡®å®šå¦‚ä½•é…ç½®Caddyä»¥å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œè¯·å‚è€ƒä»¥ä¸‹Caddyfileç¤ºä¾‹ï¼š 12345678910your_domain.comroot * /path/to/your/projectfile_servertry_files &#123;path&#125; /index.htmllog &#123; output file /path/to/your/log/caddy.log format console&#125; å°†&#x2F;path&#x2F;to&#x2F;your&#x2F;logæ›¿æ¢ä¸ºæ‚¨å¸Œæœ›å­˜å‚¨æ—¥å¿—æ–‡ä»¶çš„ç›®å½•ã€‚è¿™å°†ä½¿Caddyå°†å…¶æ—¥å¿—è¾“å‡ºåˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå®‰è£…æ–¹å¼å¯èƒ½ä¼šå½±å“Caddyæ—¥å¿—çš„ä½ç½®ã€‚å¦‚æœæ‚¨æ— æ³•åœ¨ä¸Šè¿°ä½ç½®æ‰¾åˆ°æ—¥å¿—ï¼Œè¯·æŸ¥çœ‹Caddyæ–‡æ¡£æˆ–æ‚¨æ“ä½œç³»ç»Ÿçš„æ–‡æ¡£ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚","categories":[],"tags":[]}],"categories":[],"tags":[]}