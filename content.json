{"meta":{"title":"å°å¡”çš„ä¸ªäººåšå®¢","subtitle":"","description":"","author":"Ataliya","url":"http://example.com","root":"/"},"pages":[{"title":"æš‚æ— ","date":"2024-01-11T11:53:26.000Z","updated":"2024-01-11T12:42:37.938Z","comments":true,"path":"404/index.html","permalink":"http://example.com/404/index.html","excerpt":"","text":""},{"title":"å…³äºä½œè€…","date":"2024-01-11T12:43:54.000Z","updated":"2024-01-11T12:55:29.168Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"æˆ‘ï¼ŒAtaliyaï¼Œè‡ªè¨€è‡ªè¯­å…­çº§ï¼Œå¿ƒé‡Œè¯å…«çº§ï¼ŒèŠ±å¼å•èº«å¤§èµ›èµ›åŒºå† å†›ï¼Œäº’è”ç½‘å†²æµªèµ„æ·±é€‰æ‰‹ï¼Œèµ–åºŠé”¦æ ‡èµ›å† å†›å¾—ä¸»ï¼Œäºšæ´²é…¸æŸ æª¬æ¨å¹¿å¤§ä½¿ï¼Œç†¬å¤œæ¯æ›¾åäº”æ¬¡å¤ºå† ï¼Œè¿™ä¹ˆå‰å®³çš„æˆ‘ï¼Œä¸æ‰“ç®—å–œæ¬¢ä¸€ä¸‹å—ï¼Ÿ"},{"title":"search","date":"2024-01-11T11:53:13.000Z","updated":"2024-01-11T11:53:13.158Z","comments":true,"path":"search/index.html","permalink":"http://example.com/search/index.html","excerpt":"","text":""}],"posts":[{"title":"å®‰è£…TIDBå•æœºç‰ˆ","slug":"å®‰è£…TIDBå•æœºç‰ˆ","date":"2024-01-13T11:49:48.000Z","updated":"2024-01-13T11:50:04.798Z","comments":true,"path":"2024/01/13/å®‰è£…TIDBå•æœºç‰ˆ/","permalink":"http://example.com/2024/01/13/%E5%AE%89%E8%A3%85TIDB%E5%8D%95%E6%9C%BA%E7%89%88/","excerpt":"","text":"å®‰è£…TIDBå•æœºç‰ˆ è¦åœ¨ CentOS ä¸Šå®‰è£… TiDB æ•°æ®åº“çš„å•æœºç‰ˆï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ TiUP éƒ¨ç½²å·¥å…·æ¥éƒ¨ç½² TiDBã€‚ é¦–å…ˆï¼Œç¡®ä¿æ‚¨çš„ CentOS ç³»ç»Ÿå·²æ›´æ–°ï¼š 1sudo yum update å®‰è£… TiUPï¼š 1curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https://tiup-mirrors.pingcap.com/install.sh | sh å°† TiUP çš„äºŒè¿›åˆ¶æ–‡ä»¶ç›®å½•æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­ï¼š 12bashCopy codeecho &#x27;export PATH=$HOME/.tiup/bin:$PATH&#x27; &gt;&gt; ~/.bashrcsource ~/.bashrc å®‰è£… TiUP é›†ç¾¤ç»„ä»¶ï¼š 1tiup install cluster éƒ¨ç½²å•æœºç‰ˆ TiDBï¼š æˆ‘ä»¬å°†ä½¿ç”¨ TiUP å¿«é€Ÿæ­å»ºä¸€ä¸ªå•æœºç‰ˆçš„ TiDBã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1tiup playground æ­¤å‘½ä»¤å°†å¯åŠ¨ä¸€ä¸ªåŒ…æ‹¬ 1 ä¸ª PDï¼ˆPlacement Driverï¼‰ã€1 ä¸ª TiKVï¼ˆåˆ†å¸ƒå¼äº‹åŠ¡æ€§é”®å€¼å­˜å‚¨ï¼‰å’Œ 1 ä¸ª TiDBï¼ˆåˆ†å¸ƒå¼å…³ç³»å‹æ•°æ®åº“ï¼‰ç»„ä»¶çš„æœ¬åœ° TiDB é›†ç¾¤ã€‚ è¿æ¥åˆ° TiDBï¼š å¯åŠ¨ tiup playground åï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯ï¼ŒæŒ‡ç¤ºå¦‚ä½•è¿æ¥åˆ° TiDBã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒTiDB å°†ç›‘å¬åœ¨ 127.0.0.1:4000 ä¸Šã€‚æ‚¨å¯ä»¥ä½¿ç”¨ MySQL å®¢æˆ·ç«¯æˆ–å…¼å®¹çš„å·¥å…·è¿æ¥åˆ° TiDBã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ MySQL å‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿æ¥åˆ° TiDBã€‚é¦–å…ˆï¼Œç¡®ä¿å·²å®‰è£… MySQL å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼š 1sudo yum install -y mysql ç„¶åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿æ¥åˆ° TiDBï¼š 1mysql -h 127.0.0.1 -P 4000 -u root ç°åœ¨ï¼Œæ‚¨å·²ç»æˆåŠŸåœ¨ CentOS ä¸Šå®‰è£…å¹¶è¿æ¥åˆ°äº† TiDB æ•°æ®åº“çš„å•æœºç‰ˆã€‚ å°†TIDBéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå½“ä¸­ è¦å°† TiDB éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæ‚¨éœ€è¦é‡‡ç”¨æ›´åŠ ç¨³å®šã€å®‰å…¨çš„æ–¹å¼è¿›è¡Œéƒ¨ç½²ã€‚TiUP æ˜¯å®˜æ–¹æ¨èçš„éƒ¨ç½²å·¥å…·ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ TiUP éƒ¨ç½² TiDB é›†ç¾¤åˆ°ç”Ÿäº§ç¯å¢ƒã€‚ å‡†å¤‡ç¯å¢ƒï¼š ç¡®ä¿æ‚¨çš„ CentOS ç³»ç»Ÿå·²æ›´æ–°ï¼š 1sudo yum update å®‰è£… TiUPï¼š 1curl --proto &#x27;=https&#x27; --tlsv1.2 -sSf https://tiup-mirrors.pingcap.com/install.sh | sh å°† TiUP çš„äºŒè¿›åˆ¶æ–‡ä»¶ç›®å½•æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­ï¼š 12bashCopy codeecho &#x27;export PATH=$HOME/.tiup/bin:$PATH&#x27; &gt;&gt; ~/.bashrcsource ~/.bashrc å®‰è£… TiUP é›†ç¾¤ç»„ä»¶ï¼š 1tiup install cluster å‡†å¤‡éƒ¨ç½²é…ç½®æ–‡ä»¶ï¼š åœ¨æ‚¨çš„å·¥ä½œç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º tidb_topology.yaml çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹ç¤ºä¾‹é…ç½®å¡«å……è¯¥æ–‡ä»¶ï¼š 123456789101112131415161718192021 user: &quot;tidb&quot; ssh_port: 22 deploy_dir: &quot;/tidb-deploy&quot; data_dir: &quot;/tidb-data&quot;pd_servers:- host: 10.0.1.1 - host: 10.0.1.2 - host: 10.0.1.3tikv_servers: - host: 10.0.1.4 - host: 10.0.1.5 - host: 10.0.1.6tidb_servers: - host: 10.0.1.7 - host: 10.0.1.8tiflash_servers: - host: 10.0.1.9 è¯·æ³¨æ„ï¼Œæ‚¨éœ€è¦å°†ä¸Šè¿°é…ç½®æ–‡ä»¶ä¸­çš„ IP åœ°å€æ›¿æ¢ä¸ºæ‚¨å®é™…æœåŠ¡å™¨çš„ IP åœ°å€ã€‚ ä½¿ç”¨ TiUP éƒ¨ç½²é›†ç¾¤ï¼š 1tiup cluster deploy &lt;cluster-name&gt; &lt;tidb-version&gt; /path/to/tidb_topology.yaml --user root å°† &lt;cluster-name&gt; æ›¿æ¢ä¸ºæ‚¨çš„é›†ç¾¤åç§°ï¼Œ&lt;tidb-version&gt; æ›¿æ¢ä¸ºæ‚¨æƒ³è¦éƒ¨ç½²çš„ TiDB ç‰ˆæœ¬ï¼Œä¾‹å¦‚ â€œv5.1.1â€ï¼Œå¹¶å°† /path/to/tidb_topology.yaml æ›¿æ¢ä¸ºæ‚¨å®é™…çš„é…ç½®æ–‡ä»¶è·¯å¾„ã€‚ éƒ¨ç½²æˆåŠŸåï¼ŒTiUP ä¼šæ˜¾ç¤ºé›†ç¾¤çš„éƒ¨ç½²ä¿¡æ¯å’Œè®¿é—®æ–¹å¼ã€‚ å¯åŠ¨é›†ç¾¤ï¼š 1tiup cluster start &lt;cluster-name&gt; å°† &lt;cluster-name&gt; æ›¿æ¢ä¸ºæ‚¨çš„é›†ç¾¤åç§°ã€‚ æ£€æŸ¥é›†ç¾¤çŠ¶æ€ï¼š 1tiup cluster display &lt;cluster-name&gt; å°† &lt;cluster-name&gt; æ›¿æ¢ä¸ºæ‚¨çš„é›†ç¾¤åç§°ã€‚ ç°åœ¨ï¼Œæ‚¨å·²ç»æˆåŠŸéƒ¨ç½²äº†ä¸€ä¸ªç”Ÿäº§ç¯å¢ƒçš„ TiDB é›†ç¾¤ã€‚è¦ç®¡ç†å’Œç»´æŠ¤é›†ç¾¤ï¼Œè¯·å‚é˜… TiDB å®˜æ–¹æ–‡æ¡£ï¼Œäº†è§£æ›´å¤šå…³äº TiUP å’Œå…¶ä»–ç®¡ç†å·¥å…·çš„è¯¦ç»†ä¿¡æ¯ã€‚","categories":[],"tags":[]},{"title":"PostgreSQLå®‰è£…","slug":"PostgreSQLå®‰è£…","date":"2024-01-13T11:49:13.000Z","updated":"2024-01-13T11:49:24.734Z","comments":true,"path":"2024/01/13/PostgreSQLå®‰è£…/","permalink":"http://example.com/2024/01/13/PostgreSQL%E5%AE%89%E8%A3%85/","excerpt":"","text":"æ·»åŠ  PostgreSQL Yum Repositoryï¼šPostgreSQL å®˜æ–¹æä¾›äº† Yum Repositoryï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ·»åŠ æ­¤ Repositoryï¼š 1sudo yum install https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm è¯·æ³¨æ„ï¼Œä½ åº”è¯¥æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬å’Œ PostgreSQL ç‰ˆæœ¬æ›¿æ¢ä¸Šè¿°é“¾æ¥ä¸­çš„ EL-7-x86_64ã€‚ å®‰è£… PostgreSQLï¼šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… PostgreSQLï¼Œå‡è®¾ä½ è¦å®‰è£…çš„æ˜¯ PostgreSQL 13ï¼š 1sudo yum install postgresql13 postgresql13-server åˆå§‹åŒ– PostgreSQLï¼šå®‰è£…å®Œæˆåï¼Œä½ éœ€è¦åˆå§‹åŒ– PostgreSQL æ•°æ®åº“ã€‚è¿™å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å®Œæˆï¼š 1/usr/pgsql-13/bin/postgresql-13-setup initdb å¯åŠ¨ PostgreSQLï¼šç„¶åï¼Œä½ éœ€è¦å¯åŠ¨ PostgreSQL æœåŠ¡ï¼š 1sudo systemctl start postgresql-13 è®¾ç½® PostgreSQL å¼€æœºå¯åŠ¨ï¼šå¦‚æœä½ æƒ³åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ PostgreSQLï¼Œä½ å¯ä»¥è¿è¡Œï¼š 1sudo systemctl enable postgresql-13 ç™»å½•åˆ° PostgreSQLï¼šPostgreSQL åˆ›å»ºäº†ä¸€ä¸ªåä¸º postgres çš„ç³»ç»Ÿç”¨æˆ·å’Œæ•°æ®åº“ç”¨æˆ·ã€‚ä½ å¯ä»¥åˆ‡æ¢åˆ° postgres ç”¨æˆ·ç„¶åä½¿ç”¨ psql å‘½ä»¤è¡Œå·¥å…·ï¼š 1sudo -u postgres psql æ­¤æ—¶ï¼Œä½ åº”è¯¥å·²ç»æˆåŠŸåœ¨ä½ çš„ç³»ç»Ÿä¸Šå®‰è£…äº† PostgreSQLï¼Œå¹¶ä¸”å¯ä»¥å¼€å§‹ä½¿ç”¨å®ƒäº†ã€‚è¿™äº›æ­¥éª¤å¯èƒ½ä¼šå› ä½ çš„ç³»ç»Ÿå’Œä½ çš„å…·ä½“éœ€æ±‚è€Œç•¥æœ‰ä¸åŒã€‚å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œä½ åº”è¯¥æŸ¥é˜… PostgreSQL çš„å®˜æ–¹æ–‡æ¡£æˆ–è€… CentOS çš„ç¤¾åŒºå¸®åŠ©é¡µé¢ã€‚ å¦‚æœå‡ºç°ï¼š ä¸Šæ¬¡å…ƒæ•°æ®è¿‡æœŸæ£€æŸ¥ï¼š0:04:44 å‰ï¼Œæ‰§è¡Œäº 2023å¹´05æœˆ30æ—¥ æ˜ŸæœŸäºŒ 15æ—¶35åˆ†56ç§’ã€‚ æ‰€æœ‰çš„åŒ¹é…ç»“æœå‡å·²ç»è¢«å‚æ•°çš„æ¨¡å—åŒ–è¿‡æ»¤æ¡ä»¶ç­›é™¤: postgresql13 æ‰€æœ‰çš„åŒ¹é…ç»“æœå‡å·²ç»è¢«å‚æ•°çš„æ¨¡å—åŒ–è¿‡æ»¤æ¡ä»¶ç­›é™¤: postgresql13-server é”™è¯¯ï¼šæ²¡æœ‰ä»»ä½•åŒ¹é…: postgresql13 postgresql13-server åˆ™ï¼š å¦‚æœä½ åœ¨ä½¿ç”¨åŸºäº CentOS çš„ç³»ç»Ÿï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨ä¸‹é¢çš„æ­¥éª¤æ¥æ·»åŠ  PostgreSQL å®˜æ–¹çš„ Yum Repositoryï¼š å¯¼å…¥ GPG Keyï¼š 1sudo rpm --import https://download.postgresql.org/pub/repos/yum/RPM-GPG-KEY-PGDG æ·»åŠ  Yum Repositoryï¼š æ ¹æ®ä½ çš„ CentOS ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ CentOS 7ï¼‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1sudo curl -o /etc/yum.repos.d/pgdg.repo https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ›¿æ¢ EL-7-x86_64 æ¥åŒ¹é…ä½ çš„ç³»ç»Ÿç‰ˆæœ¬å’Œç¡¬ä»¶æ¶æ„ã€‚ ç¦ç”¨ PostgreSQL æ¨¡å—ï¼š ä¸ºäº†é˜²æ­¢è½¯ä»¶åŒ…å†²çªï¼Œéœ€è¦ç¦ç”¨ PostgreSQL æ¨¡å—ï¼š 1sudo dnf -qy module disable postgresql å®‰è£… PostgreSQLï¼š ç°åœ¨ä½ å¯ä»¥å°è¯•å†æ¬¡å®‰è£… PostgreSQLï¼š 1sudo dnf install postgresql13 postgresql13-server å¦‚æœä½ çš„æ“ä½œç³»ç»Ÿæ˜¯ Fedoraï¼Œä½ å¯èƒ½éœ€è¦æ›¿æ¢ä¸Šè¿°å‘½ä»¤ä¸­çš„ dnf ä¸º yumï¼ŒåŒæ—¶ dnf -qy module disable postgresql å¯èƒ½ä¹Ÿä¸éœ€è¦ã€‚ å¦‚æœä¸Šè¿°æ­¥éª¤ä»ç„¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå»ºè®®ä½ æŸ¥é˜… PostgreSQL çš„å®˜æ–¹æ–‡æ¡£æˆ–è€… CentOS çš„ç¤¾åŒºå¸®åŠ©é¡µé¢ï¼Œè·å–æ›´è¯¦ç»†çš„å®‰è£…å¸®åŠ©ã€‚","categories":[],"tags":[]},{"title":"mysqlå®¹å™¨ä¸æœ¬æœºæŒ‚è½½åšæŒä¹…åŒ–","slug":"mysqlå®¹å™¨ä¸æœ¬æœºæŒ‚è½½åšæŒä¹…åŒ–","date":"2024-01-13T11:48:26.000Z","updated":"2024-01-13T11:48:40.582Z","comments":true,"path":"2024/01/13/mysqlå®¹å™¨ä¸æœ¬æœºæŒ‚è½½åšæŒä¹…åŒ–/","permalink":"http://example.com/2024/01/13/mysql%E5%AE%B9%E5%99%A8%E4%B8%8E%E6%9C%AC%E6%9C%BA%E6%8C%82%E8%BD%BD%E5%81%9A%E6%8C%81%E4%B9%85%E5%8C%96/","excerpt":"","text":"mysqlå®¹å™¨ä¸æœ¬æœºæŒ‚è½½åšæŒä¹…åŒ– è¦åœ¨Dockerå®¹å™¨ä¸­è¿è¡Œçš„MySQLä¸æœ¬åœ°MySQLæ•°æ®å…±äº«å¹¶å®ç°æŒä¹…åŒ–ï¼Œå¯ä»¥é€šè¿‡Dockeræ•°æ®å·ï¼ˆvolumesï¼‰å°†æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç›®å½•æŒ‚è½½åˆ°MySQLå®¹å™¨ä¸­ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç®€å•æ­¥éª¤æ¥å®ç°è¿™ä¸ªç›®æ ‡ï¼š é¦–å…ˆï¼Œåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç”¨äºå­˜å‚¨MySQLæ•°æ®ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸ºmysql-dataçš„ç›®å½•ï¼š 1mkdir /mysql-data è¿™å°†åœ¨ä½ çš„ç”¨æˆ·ä¸»ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºmysql-dataçš„æ–‡ä»¶å¤¹ã€‚ ä½¿ç”¨docker runå‘½ä»¤è¿è¡Œä¸€ä¸ªæ–°çš„MySQLå®¹å™¨ï¼Œå¹¶ä½¿ç”¨-vï¼ˆæˆ–--volumeï¼‰é€‰é¡¹å°†æœ¬åœ°ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„/var/lib/mysqlç›®å½•ã€‚è¿™æ˜¯MySQLå®¹å™¨ä¸­ç”¨äºå­˜å‚¨æ•°æ®çš„é»˜è®¤ç›®å½•ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¿è¡ŒMySQLå®¹å™¨çš„ç¤ºä¾‹å‘½ä»¤ï¼š 123456docker run -d \\ --name mysql-container \\ -p 3306:3306 \\ -e MYSQL_ROOT_PASSWORD=my-secret-pw \\ -v /mysql-data:/var/lib/mysql \\ mysql:latest åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š -dï¼šä»¥åˆ†ç¦»æ¨¡å¼è¿è¡Œå®¹å™¨ã€‚ --name mysql-containerï¼šä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ã€‚ -p 3306:3306ï¼šå°†å®¹å™¨çš„3306ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„3306ç«¯å£ã€‚ -e MYSQL_ROOT_PASSWORD=my-secret-pwï¼šè®¾ç½®MySQL rootç”¨æˆ·çš„å¯†ç ã€‚ -v ~/mysql-data:/var/lib/mysqlï¼šå°†æœ¬åœ°ç›®å½•~/mysql-dataæŒ‚è½½åˆ°å®¹å™¨çš„/var/lib/mysqlç›®å½•ã€‚ mysql:latestï¼šä½¿ç”¨çš„MySQL Dockeré•œåƒåŠå…¶ç‰ˆæœ¬ã€‚ å®¹å™¨å¯åŠ¨åï¼ŒMySQLçš„æ•°æ®æ–‡ä»¶å°†å­˜å‚¨åœ¨æœ¬åœ°~/mysql-dataç›®å½•ä¸­ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿ä½ åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼Œæ•°æ®ä»ä¼šä¿ç•™åœ¨æœ¬åœ°ç›®å½•ä¸­ã€‚è¦åœ¨æ–°çš„MySQLå®¹å™¨ä¸­ä½¿ç”¨ç›¸åŒçš„æ•°æ®ï¼Œåªéœ€ä½¿ç”¨ç›¸åŒçš„-vé€‰é¡¹å°†æœ¬åœ°ç›®å½•æŒ‚è½½åˆ°æ–°å®¹å™¨å³å¯ã€‚ åœ¨å®¹å™¨ä¸­åˆ›å»ºçš„æ•°æ®åº“å’Œè¡¨å°†åœ¨æœ¬åœ°æŒ‚è½½çš„MySQLæ•°æ®ç›®å½•ä¸­å¯è§ã€‚å½“ä½ å°†æœ¬åœ°ç›®å½•ï¼ˆå¦‚~/mysql-dataï¼‰æŒ‚è½½åˆ°å®¹å™¨çš„/var/lib/mysqlç›®å½•æ—¶ï¼Œå®¹å™¨ä¸­çš„MySQLå®ä¾‹å°†åœ¨è¿™ä¸ªç›®å½•ä¸­å­˜å‚¨æ‰€æœ‰æ•°æ®æ–‡ä»¶ã€‚å½“ä½ åœ¨å®¹å™¨ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“æˆ–è¡¨æ—¶ï¼ŒMySQLä¼šåœ¨æ•°æ®ç›®å½•ä¸­åˆ›å»ºç›¸åº”çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ç”±äºä½ å·²ç»å°†å®¹å™¨çš„æ•°æ®ç›®å½•æŒ‚è½½åˆ°äº†æœ¬åœ°ç›®å½•ï¼Œå› æ­¤ä½ å¯ä»¥åœ¨æœ¬åœ°ç›®å½•ä¸­çœ‹åˆ°è¿™äº›æ–‡ä»¶ã€‚å¯¹äºæ¯ä¸ªåˆ›å»ºçš„æ•°æ®åº“ï¼Œä½ å°†åœ¨æ•°æ®ç›®å½•ä¸­çœ‹åˆ°ä¸€ä¸ªä¸æ•°æ®åº“åŒåçš„æ–‡ä»¶å¤¹ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œä½ å°†æ‰¾åˆ°è¯¥æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„æ–‡ä»¶ã€‚æ–‡ä»¶çš„æ‰©å±•åå–å†³äºè¡¨çš„å­˜å‚¨å¼•æ“ã€‚ä¾‹å¦‚ï¼Œå¯¹äºInnoDBå­˜å‚¨å¼•æ“ï¼Œè¡¨æ–‡ä»¶å…·æœ‰.ibdæ‰©å±•åã€‚","categories":[],"tags":[]},{"title":"Linuxç³»ç»Ÿä¸‹é…ç½®DNS","slug":"Linuxç³»ç»Ÿä¸‹é…ç½®DNS","date":"2024-01-13T11:47:12.000Z","updated":"2024-01-13T11:47:56.294Z","comments":true,"path":"2024/01/13/Linuxç³»ç»Ÿä¸‹é…ç½®DNS/","permalink":"http://example.com/2024/01/13/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E9%85%8D%E7%BD%AEDNS/","excerpt":"","text":"2022å¹´12æœˆ9æ—¥ç¼–å†™ yanhaochenLinuxç³»ç»Ÿä¸‹é…ç½®DNSğŸ¤¦â€â™€ï¸ é—®é¢˜æè¿°ï¼š å½“Linuxå‡ºç°ping åŸŸåæ— æ³•è¯†åˆ«ï¼Œä½†æ˜¯ping ipåœ°å€å¯ä»¥å®Œå…¨pingçš„é€šï¼Œè¿™ä¸ªåŸå› æ˜¯å› ä¸ºå®é™…ä¸Šå°±æ˜¯è¿™å°æœåŠ¡å™¨ä¸èƒ½é€šè¿‡åŸŸåå»è®¿é—®ï¼Œé…ç½®çš„æ‰€æœ‰è·ŸåŸŸåç›¸å…³çš„éƒ½æ— æ³•è§£æï¼Œä¸‹è½½çš„é“¾æ¥æä¾›çš„æ˜¯åŸŸåçš„æ—¶å€™æ— æ³•è§£æçš„ é—®é¢˜è§£å†³ï¼š åœ¨Linuxä¸­ &#x2F;etc&#x2F;resol.conf æ–‡ä»¶å†…ç¼–è¾‘å¦‚ä¸‹ï¼š 1nameserver 114.114.114.114 114.114.114.114 ä¸ºä¸­å›½ç”µä¿¡çš„DNSï¼Œé…ç½®åä»»ä½•åŸŸåéƒ½èƒ½å¤ŸPingçš„é€š","categories":[],"tags":[]},{"title":"Linuxç”¨æˆ·å¯†ç åŠ å¯†è§£å¯†","slug":"Linuxç”¨æˆ·å¯†ç åŠ å¯†è§£å¯†","date":"2024-01-13T11:46:11.000Z","updated":"2024-01-13T11:46:23.084Z","comments":true,"path":"2024/01/13/Linuxç”¨æˆ·å¯†ç åŠ å¯†è§£å¯†/","permalink":"http://example.com/2024/01/13/Linux%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/","excerpt":"","text":"Linuxç”¨æˆ·å¯†ç åŠ å¯†è§£å¯† åœ¨linuxç³»ç»Ÿä¸‹ï¼Œç”¨æˆ·çš„å¯†ç ä¼šä¿å­˜åœ¨&#x2F;etc&#x2F;shadowä¸­ å³ï¼š æŸ¥çœ‹å¯†ç æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ä¸ªæ˜¯&#x2F;etc&#x2F;passwd: xè¡¨ç¤ºå¯†ç ä¿å­˜åœ¨&#x2F;etc&#x2F;shadowæ–‡ä»¶ä¸­ ç„¶åè¿›å…¥åˆ°shadowæ–‡ä»¶ä¸­ï¼Œå³å¯ä»¥çœ‹åˆ°å¯†ç æ˜¯åŠ å¯†çš„ åé¢çš„19335è¡¨ç¤ºå¤©æ•°ï¼Œå³ä¸Šæ¬¡å¯†ç ä¿®æ”¹ï¼Œ0 ä¸¤æ¬¡å¯†ç ä¿®æ”¹é—´éš”ï¼Œæ²¡æœ‰é™åˆ¶ 99999 ä¸¤æ¬¡å¯†ç ä¿®æ”¹é—´éš”æœ€å¤šå¤©æ•°æ²¡æœ‰é™åˆ¶ 7 æå‰å‘ŠçŸ¥ç”¨æˆ·7å¤©å¯†ç è¿‡æœŸ :: è¯¥ç”¨æˆ·æ°¸ä¹…å¯ç”¨å¯†ç  åŒæ ·ï¼Œå¯†ç çš„åŠ å¯†çš„æ ¼å¼ä¸ºï¼š 1$id$salt$encrypted idè¡¨ç¤ºåŠ å¯†ç®—æ³•ï¼Œsaltä¸ºå¯†ç å­¦çš„saltï¼Œencryptedè¡¨ç¤ºå¯†ç hash æœ¬ä¸»æœºçš„åŠ å¯†å¯†ç ä¸ºï¼š 1$6$zRszbIkv$sy98kMCtDd3u1w172q2r/yj7akruD1CmwxbLDQby2NikE/1O6Z0SQveKPNojahdY8z/szFFDvFfDGUz0WhSuk0 idä¸º6 è¡¨ç¤ºåŠ å¯†ä¸ºsha512åŠ å¯†ï¼Œ5ä»£è¡¨sha256ï¼Œ6ä»£è¡¨sha512 è§£å¯†å¯ä»¥ä½¿ç”¨kaliçš„hashcatè¿›è¡Œæš´åŠ›ç ´è§£","categories":[],"tags":[]},{"title":"Linuxä¸‹çš„postfixé‚®ä»¶æœåŠ¡å™¨æ­å»º","slug":"Linuxä¸‹çš„postfixé‚®ä»¶æœåŠ¡å™¨æ­å»º","date":"2024-01-13T11:45:36.000Z","updated":"2024-01-13T11:45:49.322Z","comments":true,"path":"2024/01/13/Linuxä¸‹çš„postfixé‚®ä»¶æœåŠ¡å™¨æ­å»º/","permalink":"http://example.com/2024/01/13/Linux%E4%B8%8B%E7%9A%84postfix%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/","excerpt":"","text":"Linuxä¸‹çš„postfixé‚®ä»¶æœåŠ¡å™¨æ­å»º 1.å…ˆå‡†å¤‡å¼€å¯é‚®ä»¶æœåŠ¡å™¨çš„ç«¯å£ï¼Œ25ç«¯å£ï¼ˆSMTP)ç”¨æ¥å‘é€é‚®ä»¶ï¼Œ110ï¼ˆpop3ï¼Œç”¨æ¥æ¥æ”¶é‚®ä»¶ï¼‰ï¼Œ143ï¼ˆimapæœåŠ¡ï¼Œç”¨äºæ¥æ”¶é‚®ä»¶ï¼‰ 12firewall-cmd --zone=public --add-port=25/tcp --permanent (110,143)firewall-cmd --reload æˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™ï¼ˆä¸æ¨èï¼‰ 1systemctl stop firewalld å…³é—­selinux 1vim /etc/selinux/config æ”¹ä¸ºdisabled 2.ä¿®æ”¹ä¸»æœºå å°†ä¸»æœºåæ”¹ä¸ºé‚®ä»¶æœåŠ¡å™¨åŸŸå,å¦‚ mail.testmail.com 1hostnamectl set-hostname mail.testmail.com 3.å®‰è£…DNSæœåŠ¡ 1yum install bind ç¼–è¾‘DNSé…ç½®æ–‡ä»¶ 1vim /etc/named.conf é…ç½®å­é…ç½®æ–‡ä»¶ 1vim /etc/named.rfc1912.zones 1systemctl start named è¿›å…¥DNSæœåŠ¡å™¨åŒºåŸŸé…ç½®æ–‡ä»¶ç›®å½• 1cd /var/named å¤åˆ¶æ¨¡æ¿åŒºåŸŸé…ç½®æ–‡ä»¶ä¸ºæŒ‡å®šåŒºåŸŸé…ç½®æ–‡ä»¶ 12cp -p named.localhost testmail.com.zonecp -p named.localhost testmail.com.local ç¼–è¾‘æ­£å‘åŒºåŸŸé…ç½®æ–‡ä»¶ 1vim testmail.com.zone ç¼–è¾‘åå‘åŒºåŸŸé…ç½®æ–‡ä»¶ 1vim testmail.com.local å¯åŠ¨DNSåŸŸåè§£ææœåŠ¡å™¨ 1systemctl restart named 4.å®‰è£…nslookupå‘½ä»¤ 1yum -y install bind-utils å°†æœ¬æœºçš„DNSæŒ‡å‘è‡ªå·±çš„DNSæœåŠ¡å™¨ 1vim /etc/resolv.conf è§£æé‚®ä»¶æœåŠ¡å™¨åœ°å€ï¼š 1nslookup mail.testmail.com 5.å®‰è£…Postfix ä¸€èˆ¬centosç³»ç»Ÿè‡ªå¸¦postfix æ£€æµ‹postfixæ˜¯å¦æ”¯æŒcyrus dovecotåŠŸèƒ½ 1postconf -a *** å¦‚æœå‡ºç°ï¼šlibmysqlclient.so.18: cannot open shared object file: No such file or directory**** åˆ™éœ€è¦å®‰è£…mysql-mariadbï¼š 1yum install -y dovecot mariadb-server dovecot-mysql ç„¶åç¼–è¾‘POSTFIXé…ç½®æ–‡ä»¶ 1vim /etc/postfix/main.cf æ£€æŸ¥postfixæœ‰æ²¡æœ‰é”™è¯¯ï¼Œæ— è¾“å‡ºå°±æ˜¯æ²¡æœ‰é”™äº†ï¼Œå½“ç„¶è¾“å‡ºwarringä¹Ÿæ— æ‰€è°“è€Œå·²ï¼Œä¸å½±å“åç»­ç»“æœ 1postfix check å¯åŠ¨postfix 1systemctl start postfix 6.æµ‹è¯• æ·»åŠ é‚®ä»¶è´¦å·ç»„ 1groupadd mailusers å†æ·»åŠ ä¸¤ä¸ªæµ‹è¯•é‚®ä»¶æœåŠ¡è´¦å·ï¼š 12useradd -g mailusers -s /sbin/nologin longpasswd long 12useradd -g mailusers -s /sbin/nologin jackpasswd jack è¿œç¨‹telentç™»å½•æµ‹è¯• 1telnet mail.testmail.com 25 æ£€æŸ¥æ˜¯å¦æ”¶åˆ°é‚®ä»¶ cd /home/jack/Maildir/new/ 7.æµ‹è¯•ç»™å…¬ç½‘å‘é€é‚®ä»¶ å®‰è£…mailxæœåŠ¡ 1yum -y install mailx æµ‹è¯•ç»™å…¬ç½‘å‘é€é‚®ä»¶ï¼š å‘é€æˆåŠŸï¼Œä¸€èˆ¬éƒ½åœ¨åƒåœ¾é‚®ç®±é‡Œé¢ï¼Œå“ˆå“ˆå“ˆ end-2023&#x2F;2&#x2F;15-yanhaochen","categories":[],"tags":[]},{"title":"LinuxåŸºç¡€","slug":"LinuxåŸºç¡€","date":"2024-01-13T11:44:56.000Z","updated":"2024-01-13T11:45:13.171Z","comments":true,"path":"2024/01/13/LinuxåŸºç¡€/","permalink":"http://example.com/2024/01/13/Linux%E5%9F%BA%E7%A1%80/","excerpt":"","text":"LinuxåŸºç¡€ 1.æ˜¾ç¤ºæ—¥æœŸä¸æ—¶é—´çš„æŒ‡ä»¤ï¼šdata date +%Y/%m/%d date +%H:%H 2.æ˜¾ç¤ºæ—¥å† cal cal [month] [year] ï¼Œä¾‹å¦‚ ï¼šcal 13 2015 3.ç®€æ˜“è®¡ç®—å™¨ bc 4.ç¦»å¼€ ctrl + d ç›¸å½“äºexit 5.ç”¨shift + ä¸Šä¸‹é”® ç”¨æ¥ä»£æ›¿æ»šè½® 6.åŒæ­¥ä½¿ç”¨ç¡¬ç›˜çš„æŒ‡ä»¤:sync 7.å–æ¶ˆå…³æœº shutdown -c 8.è·å–æ–‡ä»¶çš„md5æŒ‡çº¹(æ•°å­—ç­¾å) md5sum æ–‡ä»¶å 9.æ–‡æœ¬å†…å®¹çš„æŸ¥çœ‹å‘½ä»¤: cat æ–‡ä»¶å less æ–‡ä»¶å (ä»¥åˆ†é¡µçš„å½¢å¼æµè§ˆæ–‡ä»¶ä¿¡æ¯),ä¸Šç®­å¤´ ä¸ºä¸Šä¸€è¡Œ ä¸‹ç®­å¤´ ä¸ºä¸‹ä¸€è¡Œ Gæœ€åä¸€è¡Œ gç¬¬ä¸€é¡µ &#x2F;å…³é”®å­—(æœç´¢å…³é”®å­—) qé€€å‡º tali, tail -n 20 æ–‡ä»¶å # æ˜¾ç¤ºæ–‡ä»¶çš„æœ€å20è¡Œä¿¡æ¯ 10.æ–‡ä»¶æŸ¥æ‰¾ find æœç´¢è·¯å¾„ -name \"æ–‡ä»¶åå…³é”®è¯\" 11.è½¯è¿æ¥å’Œç¡¬è¿æ¥ ç¡¬ls è½¯ ls -s ln -s ç›®æ ‡æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ è½¯è¿æ¥åå­— ç¡¬è¿æ¥ï¼Œæ ¹æ®ç´¢å¼•æ¥è¿›è¡Œè¿æ¥ï¼Œè€Œè½¯è¿æ¥ç›¸å½“äºwindowsçš„å¿«æ·æ–¹å¼ï¼Œä¸€ç§å¿«é€Ÿå®šä½ 12.è¿›ç¨‹ ps -aux é™æ€æŸ¥çœ‹è¿›ç¨‹ top åŠ¨æ€æŸ¥çœ‹è¿›ç¨‹ 13.å…³é—­è¿›ç¨‹ kill -9 è¿›ç¨‹id å¼ºåˆ¶å…³é—­è¿›ç¨‹ 14.è¦†ç›–å†™å…¥&gt; è¿½åŠ å†™å…¥ &gt;&gt; 15.ç®¡é“åˆ†éš”ç¬¦ï¼š æŸ¥æ‰¾ariesç»„ï¼šcat /etc/group | grep -n â€œbaizhiâ€ 16.ç³»ç»Ÿæƒé™ï¼š groupadd ç»„å åˆ›å»ºç”¨æˆ·ç»„ groupdel ç»„å åˆ é™¤ç”¨æˆ·ç»„ æŸ¥æ‰¾ç³»ç»Ÿä¸­çš„ç»„ cat /etc/group | grep -n â€œç»„åâ€` è®¾ç½®å¯†ç  ï¼š passwd 17.å‹ç¼©å’Œè§£å‹: tar -zcvf å‹ç¼©åæ–‡ä»¶å è¢«å‹ç¼©æ–‡ä»¶ å‹ç¼© tar -zxvf å‹ç¼©æ–‡ä»¶å -C è§£å‹åæ–‡ä»¶æ‰€åœ¨ç›®å½• è§£å‹ 18.è¿è¡Œrpmæ–‡ä»¶: rpmæ–‡ä»¶ç›¸å½“äºwindowsä¸­çš„exe å®‰è£… ï¼šrpm -ivh xxx.rpm æŸ¥çœ‹ç³»ç»Ÿä¸­æ˜¯å¦å®‰è£…è¿‡rpmï¼šrpm -qa è½¯ä»¶å å¸è½½ : rpm -e xxx.rpm LinuxåŸºæœ¬é…ç½®æ–‡ä»¶ ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ :/etc/profile ç½‘ç»œé…ç½®ç¯å¢ƒï¼š/etc/sysconfig/network-scripts/ifcfg-ens33 ipåœ°å€ä¸ä¸»æœºæ˜ å°„é…ç½®æ–‡ä»¶ /etc/hosts ç”¨æˆ·ä¸ç”¨æˆ·ç»„çš„é…ç½®æ–‡ä»¶ /ect/passwd è¯¥é…ç½®æ–‡ä»¶åŒ…å«äº†ç”¨æˆ·ä¿¡æ¯ /etc/shadow å­˜å‚¨äº†ç”¨æˆ·å¯†ç çš„ç›¸å…³ä¿¡æ¯ /etc/groupå­˜å‚¨ç€ç»„çš„ç›¸å…³ä¿¡æ¯ /etc/rc å¯åŠ¨ï¼Œæˆ–æ”¹å˜è¿è¡Œçº§çš„scripts /etc/fstab è‡ªåŠ¨mountæ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨ /etc/inittab initçš„é…ç½®æ–‡ä»¶ 12/etc/profile , /etc/csh.login ,/etc/csh.cshrc ç™»å½•æˆ–å¯åŠ¨æ—¶Bourneæˆ–Cshellsæ‰§è¡Œçš„æ–‡ä»¶.è¿™å…è®¸ç³»ç»Ÿç®¡ç†å‘˜ä¸ºæ‰€æœ‰ç”¨æˆ·å»ºç«‹å…¨å±€ç¼ºçœç¯å¢ƒ. 1234567/etc/securetty ç¡®è®¤å®‰å…¨ç»ˆç«¯ï¼Œå³å“ªä¸ªç»ˆç«¯å…è®¸rootç™»å½•.ä¸€èˆ¬åªåˆ—å‡ºè™šæ‹Ÿæ§åˆ¶å°ï¼Œè¿™æ ·å°±ä¸å¯èƒ½(è‡³å°‘å¾ˆå›°éš¾)é€šè¿‡modemæˆ–ç½‘ç»œé—¯å…¥ç³»ç»Ÿå¹¶å¾—åˆ°è¶…çº§ç”¨æˆ·ç‰¹æƒ. /etc/shells åˆ—å‡ºå¯ä¿¡ä»»çš„shell.chsh å‘½ä»¤å…è®¸ç”¨æˆ·åœ¨æœ¬æ–‡ä»¶æŒ‡å®šèŒƒå›´å†…æ”¹å˜ç™»å½•shell.æä¾›ä¸€å°æœºå™¨FTPæœåŠ¡çš„æœåŠ¡è¿›ç¨‹ftpdæ£€æŸ¥ç”¨æˆ·shellæ˜¯å¦åˆ—åœ¨ /etc/shells æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¸æ˜¯å°†ä¸å…è®¸è¯¥ç”¨æˆ·ç™»å½•. /etc/termcap ç»ˆç«¯æ€§èƒ½æ•°æ®åº“.è¯´æ˜ä¸åŒçš„ç»ˆç«¯ç”¨ä»€ä¹ˆ&quot;è½¬ä¹‰åºåˆ—&quot;æ§åˆ¶.å†™ç¨‹åºæ—¶ä¸ç›´æ¥è¾“å‡ºè½¬ä¹‰åºåˆ—(è¿™æ ·åªèƒ½å·¥ä½œäºç‰¹å®šå“ç‰Œçš„ç»ˆç«¯)ï¼Œè€Œæ˜¯ä»/etc/termcapä¸­æŸ¥æ‰¾è¦åšçš„å·¥ä½œçš„æ­£ç¡®åºåˆ—.è¿™æ ·ï¼Œå¤šæ•°çš„ç¨‹åºå¯ä»¥åœ¨å¤šæ•°ç»ˆç«¯ä¸Šè¿è¡Œ initè¿›ç¨‹ï¼Œç”±å†…æ ¸å¯åŠ¨çš„ç”¨æˆ·çº§è¿›ç¨‹ï¼Œä¸€èˆ¬ä¸ºsbin&#x2F;init linuxå¯åŠ¨ï¼ŒPOSTï¼ˆåŠ ç”µæ£€æµ‹ï¼‰-&gt; åŠ è½½BIOS -&gt;ç¡®å®šå¯åŠ¨è®¾å¤‡ï¼ŒåŠ è½½boot loader -&gt; åŠ è½½å†…æ ¸ kernel åˆå§‹åŒ–initrd -&gt; è¿è¡Œ&#x2F;sbin&#x2F;init -&gt;æ‰“å°ç”¨æˆ·ç™»å½•æç¤ºç¬¦ Linuxç£ç›˜åˆ†åŒº ç›®å½• &#x2F; å»ºè®®å¤§å° 150G-200G ext4 swap 1024mb &#x2F;boot 1Gå·¦å³ &#x2F;tmp 5Gå·¦å³ &#x2F;home å°½é‡å¤§äº› å¼€å¯é˜²ç«å¢™ï¼š firewall-cmd --zone=public --add-port=3306/tcp --permanent æŸ¥çœ‹centosçš„ç³»ç»Ÿç‰ˆæœ¬å·cat /etc/redhat-releaseç³»ç»Ÿä¿¡æ¯ uname -aæŸ¥çœ‹ç³»ç»Ÿæ˜¯32ä½è¿˜æ˜¯64ä½ archæŸ¥çœ‹cpué…ç½® lscpu","categories":[],"tags":[]},{"title":"Linuxå®‰è£…zookeeper","slug":"Linuxå®‰è£…zookeeper","date":"2024-01-13T11:43:50.000Z","updated":"2024-01-13T11:44:28.967Z","comments":true,"path":"2024/01/13/Linuxå®‰è£…zookeeper/","permalink":"http://example.com/2024/01/13/Linux%E5%AE%89%E8%A3%85zookeeper/","excerpt":"","text":"Linuxå®‰è£…zookeeper 1.è‡ªè¡Œå…ˆæ‰¾åˆ°ä¸‹è½½é“¾æ¥ï¼šè‡ªå·±å®‰è£…å®‰è£…åŒ… Index of &#x2F;dist&#x2F;zookeeper (apache.org) 2.è§£å‹ tar -zxvf xxxx.tar.gz 3.è¿›å…¥confæ–‡ä»¶ cp zoo_simple.cfg zoo.cfg 4.é…ç½®ç¯å¢ƒå˜é‡ vi /etc/profile 123export ZOOKEEPER_HOME=æŒ‡å®šå®‰è£…ç›®å½•export PATH=$ZOOKEEPER_HOME/bin:$PATHexport PATH ç„¶å source profile ç”Ÿæ•ˆ 5.å¯åŠ¨æœåŠ¡ zkServer.sh start 6.æŸ¥çœ‹çŠ¶æ€ zkServer.sh status Linuxå®‰è£…kafka 1.å…ˆå»å®˜ç½‘ï¼Œä¸‹è½½æ‰€éœ€è¦çš„å®‰è£…åŒ…ï¼š Apache Kafka ç„¶åtar -zxvf kafkaxxxx.tgz cd /data/kafka/kafka_2.13-3.3.1 2.è¿è¡Œkafka: bin/kafka-server-start.sh config/server.properties & å¯åŠ¨kafkaæ—¶å€™å¿…é¡»å…ˆå¯åŠ¨zookeeper ï¼ï¼ï¼ï¼ï¼ 3.æŸ¥çœ‹jps: æˆ–è€…jps -ml 4.æŸ¥çœ‹kafkaè¿›ç¨‹","categories":[],"tags":[]},{"title":"Linuxå®‰è£…NoSQL(Redis)","slug":"Linuxå®‰è£…NoSQL-Redis","date":"2024-01-13T11:43:12.000Z","updated":"2024-01-13T11:43:28.281Z","comments":true,"path":"2024/01/13/Linuxå®‰è£…NoSQL-Redis/","permalink":"http://example.com/2024/01/13/Linux%E5%AE%89%E8%A3%85NoSQL-Redis/","excerpt":"","text":"Linuxå®‰è£…NoSQL(Redis) é¦–å…ˆå…ˆè¿›è¡Œè½¯ä»¶å®‰è£…åŒ…ä¸‹è½½: 123wget http://download.redis.io/releases/redis-5.0.4.tar.gztar -zxvf redis-5.0.4.tar.gzcd redis-5.0.4 è¿›å…¥ç›®å½•åï¼Œç„¶åmake 1make äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯ç¼–è¯‘å®Œæˆååœ¨srcç›®å½•ä¸‹ 12cd src./redis-server æœåŠ¡ç«¯ å¯åŠ¨æœåŠ¡ç«¯åï¼Œç„¶åå¯åŠ¨å®¢æˆ·ç«¯éªŒè¯: 1./redis-cli","categories":[],"tags":[]},{"title":"kafkaé›†ç¾¤å®‰è£…","slug":"kafkaé›†ç¾¤å®‰è£…","date":"2024-01-13T11:42:28.000Z","updated":"2024-01-13T11:42:42.762Z","comments":true,"path":"2024/01/13/kafkaé›†ç¾¤å®‰è£…/","permalink":"http://example.com/2024/01/13/kafka%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/","excerpt":"","text":"Zookeeper & Kafkaé›†ç¾¤å®‰è£…å’Œæµ‹è¯• ä¹‹å‰çš„æ•™ç¨‹æ˜¯kafkaå’Œzookeeperçš„å•ä»·ç‰ˆå®‰è£…ï¼Œç°åœ¨æœ‰äº†ä¸‰å°æœåŠ¡å™¨ï¼Œå¼€å§‹éƒ¨ç½²kafkaçš„é›†ç¾¤å®‰è£…ç‰ˆæœ¬ é¦–å…ˆå…ˆè¿›è¡Œzookeeperçš„é›†ç¾¤æµ‹è¯•ï¼Œç›®å‰æœ‰äº†ä¸‰å°æœåŠ¡å™¨ï¼Œåˆ†åˆ«æ˜¯ 192.168.100.112 192.168.100.110 192.168.100.109 è¿™ä¸‰ä¸ªæœåŠ¡å™¨éƒ½å®‰è£…äº†ï¼Œzookeeperå’Œkafkaï¼Œç„¶åç»™ä¸‰å°æœåŠ¡å™¨åˆ†åˆ«é…ç½®å¦‚ä¸‹çš„å†…å®¹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940#The number of milliseconds of each ticktickTime=2000# The number of ticks that the initial # synchronization phase can takeinitLimit=10# The number of ticks that can pass between # sending a request and getting an acknowledgementsyncLimit=5# the directory where the snapshot is stored.# do not use /tmp for storage, /tmp here is just # example sakes.dataDir=/tmp/zookeeper# the port at which the clients will connectclientPort=2181# the maximum number of client connections.# increase this if you need to handle more clients#maxClientCnxns=60## Be sure to read the maintenance section of the # administrator guide before turning on autopurge.## https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance## The number of snapshots to retain in dataDir#autopurge.snapRetainCount=3# Purge task interval in hours# Set to &quot;0&quot; to disable auto purge feature#autopurge.purgeInterval=1## Metrics Providers## https://prometheus.io Metrics Exporter#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider#metricsProvider.httpHost=0.0.0.0#metricsProvider.httpPort=7000#metricsProvider.exportJvmInfo=trueserver.1=192.168.100.112:3188:3288server.2=192.168.100.109:3188:3288server.3=192.168.100.110:3188:3288 ç„¶åè¯·æ³¨æ„dataDir çš„è·¯å¾„ï¼Œä½ è‡ªå·±å¯ä»¥è‡ªè¡Œé…ç½®ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸å»ºè®®ä¿®æ”¹å®ƒï¼Œæ‰¾åˆ°&#x2F;tmp&#x2F;zookeeperä¸ºä¾‹ åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªmyidï¼Œåˆ†åˆ«å†™å…¥1ï¼Œ2ï¼Œ3 1echo &quot;1&quot;&gt;myid #192.168.100.112 1echo &quot;2&quot;&gt;myid #192.168.100.109 1echo &quot;3&quot;&gt;myid #192.168.100.110 åˆ†åˆ«å†™å…¥åï¼Œä¸‰å°æœåŠ¡å™¨éƒ½å¯åŠ¨zookeeperæœåŠ¡ï¼Œä¸€èˆ¬ä¼šå‡ºç°leader å’Œ follower 12./zkServer.sh start./zkServer.sh status é›†ç¾¤å‡†å¤‡ zookeeper192.168.100.112 â€“follower id&#x3D;1192.168.100.110 â€“follower id&#x3D;3192.168.100.109 â€“leader id&#x3D;2 è¿™äº›leaderå’Œfolloweræ˜¯é€šè¿‡é€‰ä¸¾ç®—æ³•æ¥è¿›è¡Œç¡®å®šçš„ã€‚ zookeeperå¯åŠ¨åï¼Œç°åœ¨æ¥å¯åŠ¨kafka è¿™ä¸‰å°æœåŠ¡å™¨éƒ½æœ‰kafkaï¼Œå…ˆè¦ä¿è¯kafkaçš„ç‰ˆæœ¬ä¸€è‡´æ€§ï¼Œç„¶åè¿›å…¥configæ–‡ä»¶è¿›å…¥ï¼Œserver.properties æ–‡ä»¶ç¼–è¾‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139![kafka2](C:\\Users\\yanhaochen\\xhy-ops-document\\doc\\kafka2.png)# Licensed to the Apache Software Foundation (ASF) under one or more# contributor license agreements. See the NOTICE file distributed with# this work for additional information regarding copyright ownership.# The ASF licenses this file to You under the Apache License, Version 2.0# (the &quot;License&quot;); you may not use this file except in compliance with# the License. You may obtain a copy of the License at## http://www.apache.org/licenses/LICENSE-2.0## Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.# See the License for the specific language governing permissions and# limitations under the License.## This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.# See kafka.server.KafkaConfig for additional details and defaults############################## Server Basics ############################## The id of the broker. This must be set to a unique integer for each broker.broker.id=3############################# Socket Server Settings ############################## The address the socket server listens on. If not configured, the host name will be equal to the value of# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.# FORMAT:# listeners = listener_name://host_name:port# EXAMPLE:# listeners = PLAINTEXT://your.host.name:9092#listeners=PLAINTEXT://:9092listeners=PLAINTEXT://192.168.100.110:9092# Listener name, hostname and port the broker will advertise to clients.# If not set, it uses the value for &quot;listeners&quot;.#advertised.listeners=PLAINTEXT://your.host.name:9092# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL# The number of threads that the server uses for receiving requests from the network and sending responses to the networknum.network.threads=3# The number of threads that the server uses for processing requests, which may include disk I/Onum.io.threads=8# The send buffer (SO_SNDBUF) used by the socket serversocket.send.buffer.bytes=102400# The receive buffer (SO_RCVBUF) used by the socket serversocket.receive.buffer.bytes=102400# The maximum size of a request that the socket server will accept (protection against OOM)socket.request.max.bytes=104857600############################# Log Basics ############################## A comma separated list of directories under which to store log fileslog.dirs=/data/kafka/kafka_2.12-3.3.1/kafka-logs# The default number of log partitions per topic. More partitions allow greater# parallelism for consumption, but this will also result in more files across# the brokers.num.partitions=1# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.# This value is recommended to be increased for installations with data dirs located in RAID array.num.recovery.threads.per.data.dir=1############################# Internal Topic Settings ############################## The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.offsets.topic.replication.factor=1transaction.state.log.replication.factor=1transaction.state.log.min.isr=1############################# Log Flush Policy ############################## Messages are immediately written to the filesystem but by default we only fsync() to sync# the OS cache lazily. The following configurations control the flush of data to disk.# There are a few important trade-offs here:# 1. Durability: Unflushed data may be lost if you are not using replication.# 2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.# 3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.# The settings below allow one to configure the flush policy to flush data after a period of time or# every N messages (or both). This can be done globally and overridden on a per-topic basis.# The number of messages to accept before forcing a flush of data to disk#log.flush.interval.messages=10000# The maximum amount of time a message can sit in a log before we force a flush#log.flush.interval.ms=1000############################# Log Retention Policy ############################## The following configurations control the disposal of log segments. The policy can# be set to delete segments after a period of time, or after a given size has accumulated.# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens# from the end of the log.# The minimum age of a log file to be eligible for deletion due to agelog.retention.hours=168# A size-based retention policy for logs. Segments are pruned from the log unless the remaining# segments drop below log.retention.bytes. Functions independently of log.retention.hours.#log.retention.bytes=1073741824# The maximum size of a log segment file. When this size is reached a new log segment will be created.#log.segment.bytes=1073741824# The interval at which log segments are checked to see if they can be deleted according# to the retention policieslog.retention.check.interval.ms=300000############################# Zookeeper ############################## Zookeeper connection string (see zookeeper docs for details).# This is a comma separated host:port pairs, each corresponding to a zk# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.# You can also append an optional chroot string to the urls to specify the# root directory for all kafka znodes.#zookeeper.connect=localhost:2181# Timeout in ms for connecting to zookeeperzookeeper.connection.timeout.ms=18000zookeeper.connect=192.168.100.112:2181,192.168.100.109:2181,192.168.100.110:2181############################# Group Coordinator Settings ############################## The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.# The default value for this is 3 seconds.# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.group.initial.rebalance.delay.ms=0 broker.id&#x3D; å°±æ˜¯kafkaé›†ç¾¤çš„æ ‡è¯†å·ï¼Œlisteners&#x3D;PLAINTEXT:&#x2F;&#x2F;192.168.100.110:9092 æ˜¯å†…ç½‘é€šä¿¡çš„ç›‘å¬IPï¼Œå¦‚ä½•è¦è¿›è¡Œå¤–ç½‘çš„è¯ï¼Œåˆ™ç”¨advertised.listeners å¦å¤–å†åŠ ä¸Š zookeeper.connect&#x3D;192.168.100.112:2181,192.168.100.109:2181,192.168.100.110:2181 ä¸åŒæœåŠ¡å™¨ï¼Œé…ç½®ä¸åŒçš„broker.idå·ï¼Œè¿™é‡Œæˆ‘å’Œzookeeperä¿æŒä¸€è‡´ é›†ç¾¤å‡†å¤‡ kafka192.168.100.112 id&#x3D;1192.168.100.110 id&#x3D;3192.168.100.109 id&#x3D;2 å‡†å¤‡å¥½ä»¥åå¯åŠ¨ä¸‰å°æœºå™¨å¯åŠ¨kafka,å¦‚æœå…¶ä¸­ä¸€å°æ²¡æœ‰å…³é—­é˜²ç«å¢™çš„è¯,åˆ™ä¼šå‡ºç°:java.net.NoRouteToHostException: æ²¡æœ‰åˆ°ä¸»æœºçš„è·¯ç”±, å¦‚æœé…ç½®æ–‡ä»¶é”™è¯¯çš„è¯,å¯åŠ¨ä¸¤å°å,å…¶ä¸­ä¸€å°ä¼šç–¯ç‹‚åˆ·é”™è¯¯ ç°åœ¨â€¦å¯åŠ¨: å¦‚æœå¯åŠ¨æˆåŠŸçš„è¯,ä¸‰ä¸ªç•Œé¢ä¼šåŒæ—¶å‡ºç°ä¸‰ä¸ªä¸€è‡´çš„ç”»é¢,å¤ªé•¿äº†,ä¸æˆªå›¾äº† ***æµ‹è¯•kafkaé›†ç¾¤:*æµ‹è¯•æœåŠ¡å™¨:192.168.100.109 12bin/kafka-topics.sh --bootstrap-server 192.168.100.109:9092 --create --topic talking --partitions 1#æ–°ç‰ˆè¦ç”¨bootstrapå¯åŠ¨,è€ç‰ˆç”¨zookeeper-server åˆ—å‡ºä¸»é¢˜ 1bin/kafka-topics.sh --bootstrap-server 192.168.100.109:9092 --list äº§ç”Ÿæ¶ˆè´¹è€… 1bin/kafka-console-producer.sh --broker-list 192.168.100.109:9092 --topic talking æµ‹è¯•å¯ä»¥æ˜¯å¦æ¶ˆè´¹æ•°æ® 1bin/kafka-console-consumer.sh --bootstrap-server 192.168.100.109:9092 --topic talking --from-beginning","categories":[],"tags":[]},{"title":"gitä½¿ç”¨","slug":"gitä½¿ç”¨","date":"2024-01-13T11:41:52.000Z","updated":"2024-01-13T11:42:04.182Z","comments":true,"path":"2024/01/13/gitä½¿ç”¨/","permalink":"http://example.com/2024/01/13/git%E4%BD%BF%E7%94%A8/","excerpt":"","text":"Git æ“ä½œ åœ¨åˆ›å»ºåˆ†æ”¯å‰ï¼Œç¡®ä¿åœ¨masteråˆ†æ”¯ï¼Œè¦ä¿è¯å½“å‰ä»£ç æœ€æ–° 1git pull origin master åˆ›å»ºåˆ†æ”¯ 1git branch test åˆ‡æ¢æ–°çš„åˆ†æ”¯ 1git checkout test æŠŠæœ¬åœ°åˆ†æ”¯æ¨åˆ°è¿œç«¯ï¼Œè®©gitè¿œç«¯ä¹Ÿæœ‰ä¸€ä¸ªåˆ†æ”¯ 1git push origin test åˆå§‹åŒ– 1git init å…‹éš†ä¸‹è½½ä»£ç  1git clone xxxxx.git æŸ¥çœ‹åˆ†æ”¯ 1git branch åˆå¹¶åˆ†æ”¯ 12345#é¦–å…ˆæŸ¥çœ‹åœ¨é‚£ä¸ªåˆ†æ”¯ä¸Šé¢ï¼Œå¦‚æœä¸»åˆ†æ”¯masteræ–°å»ºç«‹äº†dev ï¼Œdevä¸‹åˆæœ‰ä¸€ä¸ªtestï¼Œæƒ³åˆå¹¶teståˆ°devä¸Šgit branch#ç„¶ååˆ‡æ¢åˆ†æ”¯git checkout devgit merge test #å°†teståˆå¹¶åˆ°devåˆ†æ”¯ä¸Š åˆ é™¤åˆ†æ”¯ 1234#åˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -d test#åˆ é™¤è¿œç«¯åˆ†æ”¯git push origin --delete test æäº¤ä»£ç æˆ‘ä¸€èˆ¬ä½¿ç”¨: TortoiseGit","categories":[],"tags":[]},{"title":"Dockerçš„å®‰è£…ä¸æ–¹æ³•ï¼Œå¹¶ä¸”æ›´æ”¹ç›®å½•","slug":"Dockerçš„å®‰è£…ä¸æ–¹æ³•ï¼Œå¹¶ä¸”æ›´æ”¹ç›®å½•","date":"2024-01-13T11:41:16.000Z","updated":"2024-01-13T11:41:29.638Z","comments":true,"path":"2024/01/13/Dockerçš„å®‰è£…ä¸æ–¹æ³•ï¼Œå¹¶ä¸”æ›´æ”¹ç›®å½•/","permalink":"http://example.com/2024/01/13/Docker%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E6%96%B9%E6%B3%95%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%9B%B4%E6%94%B9%E7%9B%AE%E5%BD%95/","excerpt":"","text":"Dockerçš„å®‰è£…ä¸æ–¹æ³•ï¼Œå¹¶ä¸”æ›´æ”¹ç›®å½•ğŸ˜ 1.é¦–å…ˆå…ˆä¸‹è½½ç¦»çº¿å®‰è£…åŒ… Index of linux&#x2F;static&#x2F;stable&#x2F;x86_64&#x2F; (docker.com) 2.ä¸Šä¼ å®‰è£…åŒ…å¹¶ä¸”è§£å‹ 3.å¤åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åˆ°/usr/bin/ cp docker/* /usr/bin/ 4.å°†dockeræ³¨å†Œä¸ºserviceæœåŠ¡ vim /etc/systemd/system/docker.service å°†docker.serviceå†™å…¥ä¸‹é¢å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930313233[Unit]Description=Docker Application Container EngineDocumentation=https://docs.docker.comAfter=network-online.target firewalld.serviceWants=network-online.target [Service]Type=notify# the default is not to use systemd for cgroups because the delegate issues still# exists and systemd currently does not support the cgroup feature set required# for containers run by dockerExecStart=/usr/bin/dockerd --selinux-enabled=false --insecure-registry=127.0.0.1ExecReload=/bin/kill -s HUP $MAINPID# Having non-zero Limit*s causes performance problems due to accounting overhead# in the kernel. We recommend using cgroups to do container-local accounting.LimitNOFILE=infinityLimitNPROC=infinityLimitCORE=infinity# Uncomment TasksMax if your systemd version supports it.# Only systemd 226 and above support this version.#TasksMax=infinityTimeoutStartSec=0# set delegate yes so that systemd does not reset the cgroups of docker containersDelegate=yes# kill only the docker process, not all processes in the cgroupKillMode=process# restart the docker process if it exits prematurelyRestart=on-failureStartLimitBurst=3StartLimitInterval=60s [Install]WantedBy=multi-user.target 5.èµ‹äºˆserviceæ–‡ä»¶æ‰§è¡Œæƒé™ chmod +x /etc/systemd/system/docker.service 6.é‡æ–°åŠ è½½é…ç½® systemctl deamon-reload 7.å¯åŠ¨ docker -v æ›´æ”¹Dockerçš„å®‰è£…è·¯å¾„ğŸ’• æŸ¥çœ‹Dockerçš„å®‰è£…å’Œå­˜å‚¨è·¯å¾„ï¼š sudo docker info | grep \"Docker Root Dir\" ä¿®æ”¹æœ¬æœºçš„å®‰è£…ç›®å½•ï¼š 1.å…ˆåœæ­¢docker systemctl stop docker.socket systemctl stop docker 2.ç§»åŠ¨dockeræ‰€æœ‰æ–‡ä»¶ mv /var/lib/docker /data/docker 3.å»ºç«‹è½¯è¿æ¥ ln -s /data/docker /var/lib/docker 4.é‡å¯docker systemctl restart docker Dockeréƒ¨ç½²å‰åç«¯é¡¹ç›® é¦–å…ˆå…ˆè·å¾—ä¸€ä¸ªjavaé¡¹ç›®çš„jaråŒ…,å¦å¤–pullä¸€ä¸‹jdkçš„é•œåƒ åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹åˆ›å»ºDockerfile,ç›®å½•éšä½ æ”¾ç½®ã€‚ Dockerfileå†…å®¹FROM openjdk:17-jdk VOLUME /tmp COPY app.jar app.jar ENV TZ=Asia/Shanghai RUN bash -c &#39;touch /app.jar&#39; ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] ç„¶åä½¿ç”¨dockerå‘½ä»¤æ‰“åŒ…ï¼š docker build -t test . ä½¿ç”¨docker runå‘½ä»¤åˆ›å»ºå¹¶ä¸”è¿è¡Œå®¹å™¨ï¼š docker run -d --name test -p 8001:8001 test docker ps -a åœæ­¢ docker stop é•œåƒid å‰ç«¯å°±ç®€å•å•¦ï¼Œå¦‚æœç”¨nginxçš„è¯ï¼Œé¦–å…ˆå…ˆpullä¸€ä¸‹nginxçš„é•œåƒ ç„¶ååŒä¸Šã€‚","categories":[],"tags":[]},{"title":"firewalldæœåŠ¡å’Œdockerå†²çªé—®é¢˜","slug":"firewalldæœåŠ¡å’Œdockerå†²çªé—®é¢˜","date":"2024-01-13T11:40:25.000Z","updated":"2024-01-13T11:40:42.456Z","comments":true,"path":"2024/01/13/firewalldæœåŠ¡å’Œdockerå†²çªé—®é¢˜/","permalink":"http://example.com/2024/01/13/firewalld%E6%9C%8D%E5%8A%A1%E5%92%8Cdocker%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98/","excerpt":"","text":"firewalldæœåŠ¡å’Œdockerå†²çªé—®é¢˜ åœ¨centos7ä¸­çš„é˜²ç«å¢™æœåŠ¡æ˜¯firewallçš„ï¼Œfirewallçš„åº•å±‚æ˜¯ä½¿ç”¨iptablesè¿›è¡Œæ•°æ®è¿‡æ»¤çš„ï¼Œfirewallåªæ˜¯é˜²ç«å¢™çš„ç®¡ç†ç¨‹åºï¼Œè€ŒçœŸæ­£çš„é˜²ç«å¢™å†…æ ¸åˆ™æ˜¯Netfilter å½“firewalldå¯åŠ¨æˆ–è€…é‡å¯çš„æ—¶å€™ï¼Œå°†ä¼šä»iptablesç§»é™¤dockerçš„è§„åˆ™ï¼Œdockerå¯åŠ¨çš„è¿æ¥é“¾docker è¢«firewallæ¸…ç†äº†ã€‚å¦‚æœä½¿ç”¨æ˜¯Systemd(systemctl)æ—¶å€™ï¼Œfirewalldä¼šåœ¨dockerä¹‹å‰å¯åŠ¨ï¼Œä½†æ˜¯å¦‚æœæ˜¯åœ¨dockerå¯åŠ¨ä¹‹åå†å¯åŠ¨firewalldï¼Œåˆ™éœ€è¦é‡æ–°dockerè¿›ç¨‹äº†ã€‚","categories":[],"tags":[]},{"title":"Debianç³»ç»Ÿçš„ä¼˜åŒ–","slug":"Debianç³»ç»Ÿçš„ä¼˜åŒ–","date":"2024-01-13T11:38:42.000Z","updated":"2024-01-13T11:38:55.203Z","comments":true,"path":"2024/01/13/Debianç³»ç»Ÿçš„ä¼˜åŒ–/","permalink":"http://example.com/2024/01/13/Debian%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BC%98%E5%8C%96/","excerpt":"","text":"Debianç³»ç»Ÿçš„ä¼˜åŒ– ä¸€.æ›´æ–°è½¯ä»¶æº 12sudo apt updatesudo apt upgrade ç¡®ä¿Debianç³»ç»Ÿä¸ºæœ€æ–°ï¼Œæˆ‘çš„ç³»ç»Ÿä¸ºDebian12 ,12 ä¸ºæœ€æ–° å¦‚æœæ›´æ–°æºå¤ªæ…¢ï¼Œå¯ä»¥åœ¨/etc/apt/sources.list æ–‡ä»¶ä¸­ï¼Œæ›¿æ¢aptæºä¸ºå›½å†…æºï¼Œè¿™é‡Œæ¨èä½¿ç”¨è…¾è®¯äº‘æºï¼Œè™½ç„¶å›¾ç‰‡ä¸­ä½¿ç”¨æ¸…åæºï¼Œä½†æ˜¯å¤ªæ…¢ 12345678deb https://mirrors.tencent.com/debian/ bookworm main non-free non-free-firmware contribdeb-src https://mirrors.tencent.com/debian/ bookworm main non-free non-free-firmware contribdeb https://mirrors.tencent.com/debian-security/ bookworm-security maindeb-src https://mirrors.tencent.com/debian-security/ bookworm-security maindeb https://mirrors.tencent.com/debian/ bookworm-updates main non-free non-free-firmware contribdeb-src https://mirrors.tencent.com/debian/ bookworm-updates main non-free non-free-firmware contribdeb https://mirrors.tencent.com/debian/ bookworm-backports main non-free non-free-firmware contribdeb-src https://mirrors.tencent.com/debian/ bookworm-backports main non-free non-free-firmware contrib æ‰§è¡Œå®Œä»¥åï¼Œç„¶åsudo apt updateç„¶åsudo apt upgrade ä½¿ç”¨å›½å†…æºå¥½å¤„å°±æ˜¯ä¸‹è½½è½¯ä»¶é€Ÿåº¦å¿« å¦å¤–æ¸…ç†ä¸å¿…è¦çš„è½¯ä»¶åŒ…å’Œæ— ç”¨çš„è½¯ä»¶åŒ…ï¼š 12345# æ¸…ç†æ— ç”¨çš„è½¯ä»¶åŒ…sudo apt autoremove# æ¸…ç†ä¸‹è½½çš„è½¯ä»¶åŒ…ç¼“å­˜sudo apt clean äºŒï¼Œå…³é—­ä¸å¿…è¦çš„æœåŠ¡ï¼Œåªå¯åŠ¨å¿…è¦çš„æœåŠ¡ æŸ¥çœ‹æ‰€æœ‰çš„æœåŠ¡çŠ¶æ€ï¼š 1systemctl list-units --type=service ç¦ç”¨æŸä¸ªæœåŠ¡ï¼š 1sudo systemctl disable xxxx ä¸‰ï¼Œä½¿ç”¨SSDå­˜å‚¨ ä½¿ç”¨SSDå­˜å‚¨ï¼šå¦‚æœå¯èƒ½ï¼Œå°†ç³»ç»Ÿå®‰è£…åœ¨SSDä¸Šï¼Œè¿™å°†æ˜¾è‘—æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦","categories":[],"tags":[]},{"title":"Linuxå®‰è£…å…¥ä¾µæ£€æµ‹ç³»ç»ŸIDS","slug":"Linuxå®‰è£…å…¥ä¾µæ£€æµ‹ç³»ç»ŸIDS","date":"2024-01-13T11:37:37.000Z","updated":"2024-01-13T11:37:50.047Z","comments":true,"path":"2024/01/13/Linuxå®‰è£…å…¥ä¾µæ£€æµ‹ç³»ç»ŸIDS/","permalink":"http://example.com/2024/01/13/Linux%E5%AE%89%E8%A3%85%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9FIDS/","excerpt":"","text":"Linuxå®‰è£…å…¥ä¾µæ£€æµ‹ç³»ç»ŸIDS 1.é¦–å…ˆå…ˆå®‰è£…gcc: yum install -y gcc inotify-tools bind-utils 2.é€šè¿‡å‘½ä»¤ï¼š wget -O ossec.2.9.3.tar.gz https://github.com/ossec/ossec-hids/archive/2.9.3.tar.gz ä¸‹è½½å®Œæˆåè§£å‹æ“ä½œï¼š tar -zxvf ossec.2.9.3.tar.gz æ‰§è¡Œ: é¦–å…ˆå…ˆä¸ªä¸€ä¸ªè¯»å†™æƒé™ chmod +x install.sh ./install.sh å®‰è£…å®Œæˆåä¼šå‡ºç°ä¸€ä¸ªé€‰æ‹©è¯­è¨€çš„é€‰é¡¹ï¼š é€‰æ‹©cn å·²ç»è£…äº†gccäº†ï¼Œå°±ç»§ç»­ æœ¬åšä¸»æ˜¯æœ¬æœºå®‰è£…çš„ï¼Œç›´æ¥å°±é€‰local ä¸€è·¯yï¼Œç›´åˆ°ç™½åå•ï¼Œé€‰æ‹©n å®‰è£…å®Œæˆå åœ¨/var/ossec/bin/ossec-control starté‡Œé¢å¯åŠ¨ æ‰€æœ‰çš„è­¦å‘Šéƒ½ä¼šå­˜æ”¾äº/var/ossec/logs/alerts","categories":[],"tags":[]},{"title":"åˆ©ç”¨Docker -composeéƒ¨ç½²å‰åç«¯é¡¹ç›®","slug":"åˆ©ç”¨Docker-composeéƒ¨ç½²å‰åç«¯é¡¹ç›®","date":"2024-01-13T11:36:48.000Z","updated":"2024-01-13T11:37:08.678Z","comments":true,"path":"2024/01/13/åˆ©ç”¨Docker-composeéƒ¨ç½²å‰åç«¯é¡¹ç›®/","permalink":"http://example.com/2024/01/13/%E5%88%A9%E7%94%A8Docker-compose%E9%83%A8%E7%BD%B2%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE/","excerpt":"","text":"åˆ©ç”¨Docker -composeéƒ¨ç½²å‰åç«¯é¡¹ç›® Docker Compose æ˜¯ Docker å®˜æ–¹æä¾›çš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„ YAML æ–‡ä»¶æ¥å®šä¹‰å’Œè¿è¡Œå¤šä¸ª Docker å®¹å™¨åº”ç”¨ å¥½å¤„å¦‚ä¸‹ï¼š ç®€åŒ–éƒ¨ç½²ï¼šä½¿ç”¨ Docker Compose å¯ä»¥ä¸€æ¬¡æ€§å¯åŠ¨å¤šä¸ªå®¹å™¨ï¼ŒåŒ…æ‹¬æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€åº”ç”¨ç¨‹åºç­‰ï¼Œå¹¶å¯ä»¥æŒ‰éœ€é…ç½®å®¹å™¨ä¹‹é—´çš„ç½‘ç»œã€å·ç­‰ï¼Œä»è€Œç®€åŒ–äº†éƒ¨ç½²è¿‡ç¨‹ã€‚ æ ‡å‡†åŒ–éƒ¨ç½²ï¼šä½¿ç”¨ Docker Compose éƒ¨ç½²åº”ç”¨ç¨‹åºå¯ä»¥ä¿è¯å®¹å™¨çš„ç¯å¢ƒå’Œä¾èµ–é¡¹çš„ä¸€è‡´æ€§ï¼Œä»è€Œç¡®ä¿åº”ç”¨ç¨‹åºåœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è¿è¡Œã€‚ ç®¡ç†å®¹å™¨ï¼šä½¿ç”¨ Docker Compose å¯ä»¥è½»æ¾åœ°å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤å®¹å™¨ï¼Œä»è€Œæ–¹ä¾¿ç®¡ç†å®¹å™¨ã€‚ æ‰©å±•åº”ç”¨ç¨‹åºï¼šä½¿ç”¨ Docker Compose å¯ä»¥è½»æ¾åœ°æ‰©å±•åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚æ·»åŠ æ–°çš„å®¹å™¨ã€é…ç½®è´Ÿè½½å‡è¡¡ç­‰ã€‚ èŠ‚çœæ—¶é—´ï¼šä½¿ç”¨ Docker Compose å¯ä»¥èŠ‚çœé…ç½®å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ—¶é—´ï¼Œä»è€Œæ›´å¿«åœ°æ¨å‡ºæ–°åŠŸèƒ½å’Œæ›´æ–°ã€‚ ä¸‹é¢åˆ©ç”¨ç¼–å†™docker-compose.ymlæ–‡ä»¶æ¥è¿›è¡Œéƒ¨ç½² é¦–å…ˆåœ¨&#x2F;opt&#x2F;test&#x2F;æ–‡ä»¶å¤¹é‡Œåˆ›å»ºä¸€ä¸ªdocker-compose.yml 1touch docker-compose.yml é‡Œé¢ç¼–å†™ï¼š 12345678910111213141516171819version: &quot;3&quot;services: web: image: nginx:latest ports: - &quot;80:80&quot; volumes: - /opt/test/build/framing:/usr/share/nginx/html - /opt/test/nginx.conf:/etc/nginx/nginx.conf restart: always backend: image: openjdk:17-jdk ports: - &quot;9940:9940&quot; volumes: - /opt/test/demo/app.jar:/app.jar command: [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;,&quot;--server.port=9940&quot;] restart: always ä»è¿™ä¸ªdocker-compose.ymlçœ‹èµ·æ¥ï¼Œå…¶ä¸­webæœåŠ¡æ˜ å°„åˆ°80ç«¯å£ï¼ŒbackendæœåŠ¡æ˜ å°„åˆ°9940ç«¯å£ï¼Œå¹¶å°†æœ¬åœ°çš„&#x2F;app.jaræ–‡ä»¶æ˜ å°„åˆ°äº†å®¹å™¨å†…çš„&#x2F;app.jaræ–‡ä»¶ã€‚å¦å¤–ï¼ŒbackendæœåŠ¡çš„commandæŒ‡ä»¤å¯ä»¥ä¿è¯åœ¨å®¹å™¨å¯åŠ¨åç›´æ¥è¿è¡Œapp.jaræ–‡ä»¶ã€‚ å‰ç«¯åœ¨buildæ–‡ä»¶é‡Œï¼Œåç«¯app.jaråœ¨demoé‡Œ æœ€åè¿è¡Œï¼š 1docker-compose upæˆ–è€…docker-compose up --build å¦å¤–çš„docker composeå…¶ä»–å‘½ä»¤ï¼š 123456789docker-compose up: å¯åŠ¨æ‰€æœ‰å®šä¹‰çš„æœåŠ¡ï¼Œå¦‚æœæœåŠ¡ä¸å­˜åœ¨åˆ™è‡ªåŠ¨æ„å»ºã€‚docker-compose up &lt;service_name&gt;: å¯åŠ¨æŒ‡å®šæœåŠ¡ã€‚docker-compose down: å…³é—­æ‰€æœ‰æœåŠ¡ï¼Œç§»é™¤æ‰€æœ‰å®¹å™¨ã€ç½‘ç»œå’Œå·ã€‚docker-compose ps: åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚docker-compose logs: æ˜¾ç¤ºæœåŠ¡æ—¥å¿—ã€‚docker-compose restart: é‡å¯æ‰€æœ‰æœåŠ¡ã€‚docker-compose stop: åœæ­¢æ‰€æœ‰æœåŠ¡ã€‚docker-compose build: æ„å»ºé•œåƒã€‚docker-compose exec &lt;service_name&gt; &lt;command&gt;: åœ¨æŒ‡å®šæœåŠ¡ä¸Šè¿è¡Œå‘½ä»¤ã€‚ä¾‹å¦‚ï¼šdocker-compose exec webserver bash å¯ä»¥åœ¨åä¸º webserver çš„æœåŠ¡ä¸Šè¿è¡Œ bash å‘½ä»¤ã€‚","categories":[],"tags":[]},{"title":"ç£ç›˜ç®¡ç†","slug":"ç£ç›˜ç®¡ç†","date":"2024-01-13T11:36:09.000Z","updated":"2024-01-13T11:36:29.591Z","comments":true,"path":"2024/01/13/ç£ç›˜ç®¡ç†/","permalink":"http://example.com/2024/01/13/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/","excerpt":"","text":"Linuxç£ç›˜ï¼šå¦‚ä½•æŠŠä¸€å—ç£ç›˜æŒ‚è½½ğŸ˜ é¦–å…ˆå…ˆæ‰§è¡Œdh -hï¼ŒæŸ¥çœ‹ç”µè„‘çš„ç¡¬ç›˜ä¿¡æ¯,å¦‚æœç£ç›˜æ²¡æœ‰æŒ‚è½½çš„è¯å°±æ— æ³•æ˜¾ç¤º 1.dh -h å†ä½¿ç”¨fdisk -læŸ¥çœ‹æ‰€æœ‰ç£ç›˜ä¿¡æ¯åŒ…æ‹¬æœªåŠ è½½çš„ç£ç›˜ 2.fdisk -l ç„¶åå†æŸ¥çœ‹ç£ç›˜æŒ‚è½½çš„åŒºåŸŸ 3.lsblk æ¥ä¸‹æ¥å°±æ˜¯åˆ†åŒºçš„æ“ä½œäº†ï¼Œé¦–å…ˆç”¨fdiskè¿›è¡Œåˆ†åŒº 4.fdisk /dev/sdb è¿™é‡Œçš„&#x2F;dev&#x2F;sdbæ˜¯ä¸ºæŒ‚è½½çš„ç£ç›˜ä¿¡æ¯ï¼Œä»¥ä½ è‡ªå·±çš„ä¸ºä¾‹ï¼Œ æ‰§è¡Œå®Œä»¥åï¼Œä¼šå‡ºç°æç¤ºä¿¡æ¯ï¼ŒæŒ‰ç…§æœ¬æ•™ç¨‹ä¾æ¬¡é€‰æ‹©ï¼šm â€“&gt; n â€“&gt; p â€“&gt; 1 â€“&gt; wqçš„æ“ä½œ å¦å¤–é‡è¯»åˆ†åŒºè¡¨ 5.partprobe /dev/sdb å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç”¨mkf4åˆ›å»ºæ–°çš„æ–‡ä»¶ç³»ç»Ÿå•¦ï¼Œåœ¨linuxä¸­æ¯”è¾ƒå¸¸è§æ˜¯å°±æ˜¯ext4æ–‡ä»¶ç³»ç»Ÿ 6.mkfs.ext4 /dev/sdb1 è¿™é‡Œè¦æ³¨æ„çš„æ˜¯sdb1è€Œä¸æ˜¯sdbï¼Œå› ä¸ºå‰é¢å·²ç»æ ¼å¼åŒ–è¿‡äº†ï¼Œæ‰€ä»¥sdb1ä¹Ÿå°±æ˜¯sdb ç„¶ååˆ›å»ºè¦æŒ‚è½½çš„ç›®å½•,ä¸‹é¢ä»¥åˆ›å»ºdataä¸ºä¾‹ 7.mkdir /data ä½¿ç”¨mountæ¥è¿›è¡Œç›®å½•çš„æŒ‚è½½ 8.mount /dev/sdb1 /data åˆ°è¿™éƒ¨å·²ç»æˆåŠŸæŒ‚è½½ï¼Œä½†æ˜¯è¿™ä¸ªåªæ˜¯æš‚æ—¶çš„ï¼Œå¦‚æœé‡å¯ï¼Œç™½å¼„ã€‚ ç¼–è¾‘ /etc/fstab æ°¸ä¹…æŒ‚è½½ç›®å½• vi &#x2F;etc&#x2F;fstab è¿›å…¥ååŠ å…¥ä¸€æ¡ï¼š /dev/sdb1 /data ext4 defaults 0 0 ç„¶åå°±æˆåŠŸå•¦ â€‹","categories":[],"tags":[]},{"title":"éƒ¨ç½²phpé¡¹ç›®","slug":"éƒ¨ç½²phpé¡¹ç›®","date":"2024-01-13T11:35:21.000Z","updated":"2024-01-13T11:35:34.897Z","comments":true,"path":"2024/01/13/éƒ¨ç½²phpé¡¹ç›®/","permalink":"http://example.com/2024/01/13/%E9%83%A8%E7%BD%B2php%E9%A1%B9%E7%9B%AE/","excerpt":"","text":"éƒ¨ç½²php è¦åœ¨Ubuntuç³»ç»Ÿä¸Šå®‰è£…å¹¶è¿è¡ŒPHPï¼Œä½ éœ€è¦éµå¾ªä»¥ä¸‹æ­¥éª¤ã€‚è¿™äº›æ­¥éª¤é€‚ç”¨äºå¤§å¤šæ•°ç‰ˆæœ¬çš„Ubuntuï¼ŒåŒ…æ‹¬æœ€æ–°çš„ç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼Œç¡®ä¿ä½ æ ¹æ®ä½ çš„å…·ä½“æƒ…å†µè¿›è¡Œé€‚å½“çš„è°ƒæ•´ã€‚ æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•ï¼š é¦–å…ˆï¼Œæ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•ï¼š 1sudo apt update å®‰è£…PHPï¼š ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨aptå‘½ä»¤å®‰è£…PHPã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†å®‰è£…PHP 7.4ï¼Œä½†ä½ å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä»–ç‰ˆæœ¬ï¼š 1sudo apt install php éªŒè¯å®‰è£…ï¼š å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯PHPæ˜¯å¦å·²æˆåŠŸå®‰è£…ï¼š 1php -v è¿™å°†æ˜¾ç¤ºä½ å®‰è£…çš„PHPç‰ˆæœ¬ä¿¡æ¯ã€‚ å®‰è£…PHPæ¨¡å—ï¼ˆå¯é€‰ï¼‰ï¼š ä½ å¯èƒ½è¿˜éœ€è¦å®‰è£…ä¸€äº›PHPæ¨¡å—ï¼Œä¾‹å¦‚MySQLæ¨¡å—æˆ–è€…GDæ¨¡å—ã€‚è¿™äº›æ¨¡å—å¯ä»¥é€šè¿‡aptå‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œä¾‹å¦‚ï¼š 1sudo apt install php-mysql php-gd å®‰è£…å¹¶é…ç½®WebæœåŠ¡å™¨ï¼ˆä¾‹å¦‚ï¼ŒApacheï¼‰ï¼š ä¸ºäº†è®©ä½ çš„PHPä»£ç åœ¨WebæœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œä½ éœ€è¦å®‰è£…å¹¶é…ç½®ä¸€ä¸ªWebæœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å®‰è£…Apacheï¼š 1sudo apt install apache2 libapache2-mod-php ç„¶åï¼Œä½ éœ€è¦é‡å¯Apacheä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š 1sudo systemctl restart apache2 åˆ›å»ºPHPæ–‡ä»¶è¿›è¡Œæµ‹è¯•ï¼š åœ¨Apacheçš„æ–‡æ¡£æ ¹ç›®å½•ï¼ˆé€šå¸¸æ˜¯/var/www/htmlï¼‰ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª.phpæ–‡ä»¶è¿›è¡Œæµ‹è¯•ï¼š 1sudo echo &quot;&lt;?php phpinfo(); ?&gt;&quot; &gt; /var/www/html/info.php ç„¶åï¼Œæ‰“å¼€Webæµè§ˆå™¨å¹¶è®¿é—®http://localhost/info.phpï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªé¡µé¢ï¼Œå…¶ä¸­åŒ…å«äº†PHPçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™è¡¨ç¤ºPHPå·²ç»æˆåŠŸå®‰è£…å¹¶åœ¨WebæœåŠ¡å™¨ä¸Šè¿è¡Œã€‚ ä»¥ä¸Šå°±æ˜¯åœ¨Ubuntuç³»ç»Ÿä¸Šå®‰è£…å¹¶è¿è¡ŒPHPçš„æ­¥éª¤ã€‚è¯·è®°ä½ï¼Œæ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚å’Œç¯å¢ƒï¼Œä½ å¯èƒ½éœ€è¦è¿›è¡Œä¸€äº›å…¶ä»–çš„é…ç½®å’Œä¼˜åŒ–ã€‚","categories":[],"tags":[]},{"title":"nginxå®‰è£…","slug":"nginxå®‰è£…","date":"2024-01-13T11:34:34.000Z","updated":"2024-01-13T11:34:46.571Z","comments":true,"path":"2024/01/13/nginxå®‰è£…/","permalink":"http://example.com/2024/01/13/nginx%E5%AE%89%E8%A3%85/","excerpt":"","text":"Linuxå®‰è£…nginx cd /data wget https://nginx.org/download/nginx-1.21.2.tar.gz # ä¸‹è½½å®‰è£…åŒ…ï¼Œç‰ˆæœ¬è¯·è‡ªè¡Œé€‰æ‹© tar -zxvf nginx-1.21.2.tar.gz cd ./ngix-1.21.2 ./configure --prefix=/data/nginx make && make install cd /sbin/nginx é…ç½®ç¯å¢ƒå˜é‡ï¼š export PATH=$PATH:/data/nginx/sbin å¦‚æœæç¤ºé”™è¯¯ï¼š fuser -k 80/tcp #å…³é—­å ç”¨80ç«¯å£çš„ç¨‹åº å†è¿è¡Œã€‚ è§£å†³nginxéƒ¨ç½²é¡¹ç›®ååˆ·æ–°æç¤º404é¡µé¢ 123location / &#123; try_files $uri $uri/ /index.html; &#125; åœ¨nginxä¸­confä¸­é…ç½®æœ‰ä¸ªindexé¡µé¢ä¸­","categories":[],"tags":[]},{"title":"å®‰è£…kong/konga","slug":"å®‰è£…kong-konga","date":"2024-01-13T11:33:37.000Z","updated":"2024-01-13T13:06:23.811Z","comments":true,"path":"2024/01/13/å®‰è£…kong-konga/","permalink":"http://example.com/2024/01/13/%E5%AE%89%E8%A3%85kong-konga/","excerpt":"","text":"å®‰è£…kongå’Œkonga æœ¬æ–‡æ¡£æ¨èåœ¨dockerä¸­è¿è¡Œ ä¸€ï¼šå®‰è£…kong åˆ›å»ºè‡ªå®šä¹‰ Docker ç½‘ç»œä»¥å…è®¸å®¹å™¨å‘ç°å’Œç›¸äº’æ²Ÿé€š: 1docker network create kong-net å¯åŠ¨ä¸€ä¸ª PostgreSQL å®¹å™¨ï¼š 1234567docker run -d --name kong-database \\ --network=kong-net \\ -p 5432:5432 \\ -e &quot;POSTGRES_USER=kong&quot; \\ -e &quot;POSTGRES_DB=kong&quot; \\ -e &quot;POSTGRES_PASSWORD=kongpass&quot; \\ postgres:13 POSTGRES_USERå’Œ ï¼šå°†è¿™äº›å€¼è®¾ç½®ä¸º ã€‚è¿™æ˜¯ å­”ç½‘å…³æ‰€éœ€çš„é»˜è®¤å€¼ã€‚POSTGRES_DB``kong POSTGRES_PASSWORDï¼šå°†æ•°æ®åº“å¯†ç è®¾ç½®ä¸ºä»»æ„å­—ç¬¦ä¸²ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œåä¸º Postgres çš„å®¹å™¨å¯ä»¥ ä¸ç½‘ç»œä¸Šçš„ä»»ä½•å®¹å™¨é€šä¿¡ã€‚kong-database``kong-net å‡†å¤‡ Kong æ•°æ®åº“ï¼š 123456docker run --rm --network=kong-net \\ -e &quot;KONG_DATABASE=postgres&quot; \\ -e &quot;KONG_PG_HOST=kong-database&quot; \\ -e &quot;KONG_PG_PASSWORD=kongpass&quot; \\ -e &quot;KONG_PASSWORD=test&quot; \\kong/kong-gateway:3.3.1.0 kong migrations bootstrap KONG_DATABASEï¼š æŒ‡å®š Kong æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“çš„ç±»å‹ã€‚ KONG_PG_HOSTï¼š ä¸Šä¸€æ­¥ä¸­é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡çš„ Postgres Docker å®¹å™¨çš„åç§°ã€‚kong-net KONG_PG_PASSWORDï¼š åœ¨ ä¸Šä¸€æ­¥ã€‚ KONG_PASSWORDï¼ˆä»…é™ä¼ä¸šç‰ˆï¼‰ï¼šç®¡ç†å‘˜çš„é»˜è®¤å¯†ç  é‡‘åˆšç½‘å…³çš„è¶…çº§ç”¨æˆ·ã€‚ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿ç”¨kongç½‘å…³å¯åŠ¨å®¹å™¨: 12345678910111213141516171819202122docker run -d --name kong-gateway \\ --network=kong-net \\ -e &quot;KONG_DATABASE=postgres&quot; \\ -e &quot;KONG_PG_HOST=kong-database&quot; \\ -e &quot;KONG_PG_USER=kong&quot; \\ -e &quot;KONG_PG_PASSWORD=kongpass&quot; \\ -e &quot;KONG_PROXY_ACCESS_LOG=/dev/stdout&quot; \\ -e &quot;KONG_ADMIN_ACCESS_LOG=/dev/stdout&quot; \\ -e &quot;KONG_PROXY_ERROR_LOG=/dev/stderr&quot; \\ -e &quot;KONG_ADMIN_ERROR_LOG=/dev/stderr&quot; \\ -e &quot;KONG_ADMIN_LISTEN=0.0.0.0:8001&quot; \\ -e &quot;KONG_ADMIN_GUI_URL=http://localhost:8002&quot; \\ -e KONG_LICENSE_DATA \\ -p 8000:8000 \\ -p 8443:8443 \\ -p 8001:8001 \\ -p 8444:8444 \\ -p 8002:8002 \\ -p 8445:8445 \\ -p 8003:8003 \\ -p 8004:8004 \\ kong/kong-gateway:3.3.1.0 --nameå’Œï¼šè¦åˆ›å»ºçš„å®¹å™¨çš„åç§°ï¼Œ ä»¥åŠå®ƒæ‰€é€šä¿¡çš„ Docker ç½‘ç»œã€‚--network KONG_DATABASEï¼š æŒ‡å®š Kong æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“çš„ç±»å‹ã€‚ KONG_PG_HOSTï¼š é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡çš„ Postgres Docker å®¹å™¨çš„åç§°ã€‚kong-net KONG_PG_USERå’ŒKONG_PG_PASSWORDï¼š Postgres ç”¨æˆ·åå’Œå¯†ç ã€‚æ¸¯é€šéœ€è¦ç™»å½•ä¿¡æ¯ å°†é…ç½®æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚KONG_PG_HOST æ‰€æœ‰_LOGå‚æ•°ï¼šè®¾ç½®è¦è¾“å‡ºåˆ°çš„æ—¥å¿—çš„æ–‡ä»¶è·¯å¾„ï¼Œæˆ–ä½¿ç”¨ å°†æ¶ˆæ¯å’Œé”™è¯¯æ‰“å°åˆ° å’Œ çš„ç¤ºä¾‹ã€‚stdout``stderr KONG_ADMIN_LISTENï¼š Kong ç®¡ç†å‘˜ API ä¾¦å¬è¯·æ±‚çš„ç«¯å£ã€‚ KONG_ADMIN_GUI_URLï¼š ï¼ˆä»…é™ä¼ä¸šç‰ˆï¼‰ç”¨äºè®¿é—® Kong ç®¡ç†å™¨çš„ URLï¼Œå‰é¢æœ‰ä¸€ä¸ªåè®® ï¼ˆä¾‹å¦‚ï¼Œï¼‰ã€‚http:// KONG_LICENSE_DATAï¼šï¼ˆä»…é™ä¼ä¸šç‰ˆï¼‰å¦‚æœæ‚¨æœ‰è®¸å¯è¯æ–‡ä»¶å¹¶å·²ä¿å­˜ ä½œä¸ºç¯å¢ƒå˜é‡ï¼Œæ­¤å‚æ•°ä»æ‚¨çš„ç¯å¢ƒä¸­æå–è®¸å¯è¯ã€‚ éªŒè¯æ‚¨çš„å®‰è£…ï¼š ä½¿ç”¨ç®¡ç† API è®¿é—®ç«¯ç‚¹ï¼š/services 1curl -i -X GET --url http://localhost:8001/services æ‚¨åº”è¯¥ä¼šæ”¶åˆ°ä¸€ä¸ªçŠ¶æ€ä»£ç ã€‚200 é€šè¿‡è®¿é—® Kong ç®¡ç†å™¨æ¥éªŒè¯å®ƒæ˜¯å¦æ­£åœ¨è¿è¡Œ ä½¿ç”¨ä¸­æŒ‡å®šçš„ URLï¼šKONG_ADMIN_GUI_URL 1http://localhost:8002 å®‰è£…konga å¯åŠ¨PostgresSQLæ•°æ®åº“å¯åŠ¨konga PostgresSQLæ•°æ®åº“ã€‚ 1234567docker run -d --name konga-database \\ --network=kong-net \\ -p 5433:5432 \\ -e &quot;POSTGRES_USER=konga&quot; \\ -e &quot;POSTGRES_DB=konga&quot; \\ -e &quot;POSTGRES_PASSWORD=konga&quot; \\ postgres:9.6 åˆå§‹åŒ–æ•°æ®123456docker run --rm \\ --network=kong-net \\ pantsel/konga:latest \\ -c prepare \\ -a &quot;postgres&quot; \\ -u &quot;postgres://konga:konga@konga-database:5432/konga&quot; å¯åŠ¨Konga12345678docker run -d --name konga \\ --network kong-net \\ -e &quot;TOKEN_SECRET=secret123&quot; \\ -e &quot;DB_ADAPTER=postgres&quot; \\ -e &quot;DB_URI=postgres://konga:konga@konga-database:5432/konga&quot; \\ -e &quot;NODE_ENV=development&quot; \\ -p 1337:1337 \\ pantsel/konga è®¿é—® IP+1337","categories":[],"tags":[]},{"title":"æœ¬åœ°å®‰è£…elasticsearch","slug":"æœ¬åœ°å®‰è£…elasticsearch","date":"2024-01-12T07:29:10.000Z","updated":"2024-01-12T07:43:19.171Z","comments":true,"path":"2024/01/12/æœ¬åœ°å®‰è£…elasticsearch/","permalink":"http://example.com/2024/01/12/%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85elasticsearch/","excerpt":"","text":"æœ¬åœ°å®‰è£…elasticsearch é¦–å…ˆå…ˆä»ç½‘ç»œä¸Šä¸‹è½½æœ€æ–°çš„elasticsearch 1$ wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.8.2-linux-x86_64.tar.gz ä¸‹è½½å®Œä»¥åï¼Œè¿›è¡Œè§£å‹æ“ä½œ 1$ tar -xzf elasticsearch-8.8.2-linux-x86_64.tar.gz è¿›å…¥æ–‡ä»¶ 1$ cd elasticsearch-8.8.2/bin å¼€å§‹å¯åŠ¨ï¼Œæ³¨æ„ï¼Œelasticsearchæ˜¯ä¸é»˜è®¤rootå¯åŠ¨çš„ éœ€è¦åˆ›å»ºä¸€ä¸ªç”¨æˆ· 123$ adduser ela$ passwd ela$ chown -R ela elasticsearch/ ç„¶åsu elaå¯åŠ¨ å¯åŠ¨ååœ¨é»˜è®¤é…ç½®æ–‡ä»¶ä¸­config&#x2F;elasticsearch.ymlä¸­ä¿®æ”¹ä»¥ä¸‹ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122# ======================== Elasticsearch Configuration =========================## NOTE: Elasticsearch comes with reasonable defaults for most settings.# Before you set out to tweak and tune the configuration, make sure you# understand what are you trying to accomplish and the consequences.## The primary way of configuring a node is via this file. This template lists# the most important settings you may want to configure for a production cluster.## Please consult the documentation for further information on configuration options:# https://www.elastic.co/guide/en/elasticsearch/reference/index.html## ---------------------------------- Cluster -----------------------------------## Use a descriptive name for your cluster:##cluster.name: my-application## ------------------------------------ Node ------------------------------------## Use a descriptive name for the node:##node.name: node-1## Add custom attributes to the node:##node.attr.rack: r1## ----------------------------------- Paths ------------------------------------## Path to directory where to store the data (separate multiple locations by comma):##path.data: /path/to/data## Path to log files:##path.logs: /path/to/logs## ----------------------------------- Memory -----------------------------------## Lock the memory on startup:##bootstrap.memory_lock: true## Make sure that the heap size is set to about half the memory available# on the system and that the owner of the process is allowed to use this# limit.## Elasticsearch performs poorly when the system is swapping the memory.## ---------------------------------- Network -----------------------------------## By default Elasticsearch is only accessible on localhost. Set a different# address here to expose this node on the network:##network.host: 192.168.0.1## By default Elasticsearch listens for HTTP traffic on the first free port it# finds starting at 9200. Set a specific HTTP port here:##http.port: 9200## For more information, consult the network module documentation.## --------------------------------- Discovery ----------------------------------## Pass an initial list of hosts to perform discovery when this node is started:# The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]##discovery.seed_hosts: [&quot;host1&quot;, &quot;host2&quot;]## Bootstrap the cluster using an initial set of master-eligible nodes:##cluster.initial_master_nodes: [&quot;node-1&quot;, &quot;node-2&quot;]## For more information, consult the discovery and cluster formation module documentation.## ---------------------------------- Various -----------------------------------## Allow wildcard deletion of indices:##action.destructive_requires_name: false#----------------------- BEGIN SECURITY AUTO CONFIGURATION -----------------------## The following settings, TLS certificates, and keys have been automatically# generated to configure Elasticsearch security features on 24-07-2023 11:28:48## --------------------------------------------------------------------------------# Enable security featuresxpack.security.enabled: falsexpack.security.enrollment.enabled: true# Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agentsxpack.security.http.ssl: enabled: false keystore.path: certs/http.p12# Enable encryption and mutual authentication between cluster nodesxpack.security.transport.ssl: enabled: true verification_mode: certificate keystore.path: certs/transport.p12 truststore.path: certs/transport.p12# Create a new cluster with the current node only# Additional nodes can still join the cluster latercluster.initial_master_nodes: [&quot;localhost.localdomain&quot;]# Allow HTTP API connections from anywhere# Connections are encrypted and require user authenticationhttp.host: 0.0.0.0http.port: 9200http.cors.enabled: truehttp.cors.allow-origin: &quot;*&quot;# Allow other nodes to join the cluster from anywhere# Connections are encrypted and mutually authenticated#transport.host: 0.0.0.0#----------------------- END SECURITY AUTO CONFIGURATION ------------------------- æœ€åå¯åŠ¨ .&#x2F;elasticsearch å¹¶ä¸”å¼€æ”¾ç«¯å£9200 æœ€ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥ localhost:9200å³å¯éƒ¨ç½²æˆåŠŸ","categories":[],"tags":[]},{"title":"å®‰è£…docker compose","slug":"å®‰è£…docker-compose","date":"2024-01-12T07:17:44.000Z","updated":"2024-01-12T07:18:12.793Z","comments":true,"path":"2024/01/12/å®‰è£…docker-compose/","permalink":"http://example.com/2024/01/12/%E5%AE%89%E8%A3%85docker-compose/","excerpt":"","text":"å®‰è£…docker compose é¦–å…ˆï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† Dockerã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·è®¿é—® Docker å®˜ç½‘ è·å–é€‚ç”¨äºæ‚¨æ“ä½œç³»ç»Ÿçš„å®‰è£…æŒ‡å—ã€‚ æŒ‰ç…§æ‚¨çš„æ“ä½œç³»ç»Ÿçš„æŒ‡å—å®‰è£… docker-composeï¼š å¯¹äº Linuxï¼š è¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… docker-composeï¼š 1sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose æ›´æ”¹ docker-compose çš„æƒé™ä»¥ä½¿å…¶å¯æ‰§è¡Œï¼š 1sudo chmod +x /usr/local/bin/docker-compose ç¡®è®¤å®‰è£…æˆåŠŸï¼š 1docker-compose --version å¯¹äº macOSï¼š å¦‚æœæ‚¨å·²ç»å®‰è£…äº† Homebrewï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… docker-composeï¼š 1brew install docker-compose æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¸‹è½½ Docker Desktop for Macï¼Œå…¶ä¸­åŒ…å« docker-composeã€‚ å¯¹äº Windowsï¼š å¯¹äº Windows ç”¨æˆ·ï¼Œå»ºè®®å®‰è£… Docker Desktop for Windowsã€‚å®‰è£…å®Œæˆåï¼Œdocker-compose å°†è‡ªåŠ¨åŒ…å«åœ¨å…¶ä¸­ã€‚ å®‰è£…å®Œæˆåï¼Œå°è¯•å†æ¬¡è¿è¡Œ docker-composeã€‚å¦‚æœä»ç„¶å‡ºç°å‘½ä»¤æœªæ‰¾åˆ°çš„é”™è¯¯ï¼Œè¯·æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¦åœ¨æ‚¨çš„ç³»ç»Ÿ PATH ä¸­ã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨å°†å…¶æ·»åŠ åˆ° PATHã€‚","categories":[],"tags":[]},{"title":"å®‰è£…docker machine","slug":"å®‰è£…docker-machine","date":"2024-01-12T07:16:29.000Z","updated":"2024-01-12T07:16:45.755Z","comments":true,"path":"2024/01/12/å®‰è£…docker-machine/","permalink":"http://example.com/2024/01/12/%E5%AE%89%E8%A3%85docker-machine/","excerpt":"","text":"å®‰è£…Docker Machine Docker Machine æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œç”¨äºåœ¨å„ç§å¹³å°ä¸Šå®‰è£…å’Œç®¡ç† Dockerã€‚ä»¥ä¸‹æ˜¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå®‰è£… Docker Machine çš„æ–¹æ³•ï¼š å¯¹äº macOS å’Œ Windowsï¼š å¯¹äº macOS å’Œ Windows ç”¨æˆ·ï¼Œå»ºè®®å®‰è£… Docker Desktopï¼Œå®ƒåŒ…å« Docker Machineã€‚è®¿é—® Docker å®˜ç½‘ï¼Œæ ¹æ®æ‚¨çš„æ“ä½œç³»ç»Ÿé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½å’Œå®‰è£…ã€‚ å¯¹äº Linuxï¼š ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Docker Machine äºŒè¿›åˆ¶æ–‡ä»¶ï¼š 123base=https://github.com/docker/machine/releases/download/v0.16.2 &amp;&amp;curl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/tmp/docker-machine &amp;&amp;sudo install /tmp/docker-machine /usr/local/bin/docker-machine ä¸Šè¿°å‘½ä»¤å°†ä¸‹è½½ v0.16.2 ç‰ˆæœ¬çš„ Docker Machineã€‚æ‚¨å¯ä»¥è®¿é—® Docker Machine å‘å¸ƒé¡µé¢ æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å¹¶ç›¸åº”åœ°æ›´æ–°ä¸Šè¿°å‘½ä»¤ã€‚ æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š 1sudo chmod +x /usr/local/bin/docker-machine éªŒè¯å®‰è£…ï¼š 1docker-machine version å¦‚æœå®‰è£…æˆåŠŸï¼Œæ‚¨å°†çœ‹åˆ° Docker Machine çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ å®‰è£… Bash Completionï¼ˆå¯é€‰ï¼‰ï¼š ä¸ºäº†è·å¾—æ›´å¥½çš„å‘½ä»¤è¡Œä½“éªŒï¼Œæ‚¨å¯ä»¥å®‰è£… Docker Machine çš„ Bash Completionã€‚ä»¥ä¸‹æ˜¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå®‰è£…çš„æ–¹æ³•ï¼š å¯¹äº macOSï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Homebrew å®‰è£…ï¼š 12brew install bash-completion å¯¹äº Linuxï¼ˆDebian&#x2F;Ubuntuï¼‰ï¼š 1sudo apt-get install bash-completion å¯¹äºå…¶ä»– Linux å‘è¡Œç‰ˆï¼Œè¯·æŸ¥é˜…ç›¸åº”æ–‡æ¡£ä»¥è·å–æ­£ç¡®çš„å®‰è£…å‘½ä»¤ã€‚ ç„¶åï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ ~/.bashrcã€~/.bash_profile æˆ– ~/.profile æ–‡ä»¶ä¸­ï¼š 123if [ -f $(brew --prefix)/etc/bash_completion ]; then . $(brew --prefix)/etc/bash_completionfi é‡æ–°å¯åŠ¨ç»ˆç«¯ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚ ç°åœ¨ï¼Œæ‚¨åº”è¯¥å·²ç»æˆåŠŸå®‰è£…äº† Docker Machineã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ docker-machine å‘½ä»¤æŸ¥çœ‹å¯ç”¨é€‰é¡¹å’Œå­å‘½ä»¤ã€‚è¦äº†è§£å¦‚ä½•ä½¿ç”¨ Docker Machineï¼Œè¯·å‚é˜… Docker Machine å®˜æ–¹æ–‡æ¡£ã€‚","categories":[],"tags":[]},{"title":"å®‰è£…å¸è½½mysql","slug":"å®‰è£…å¸è½½mysql","date":"2024-01-12T07:14:19.000Z","updated":"2024-01-13T13:06:04.095Z","comments":true,"path":"2024/01/12/å®‰è£…å¸è½½mysql/","permalink":"http://example.com/2024/01/12/%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BDmysql/","excerpt":"","text":"ä¸€ï¼ŒLinuxçš„YUMåœ¨çº¿çš„MySQL5.7å®‰è£…ğŸ˜˜ å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œè¦å­¦ä¹ Mysqlçš„çŸ¥è¯†ï¼Œé¦–å…ˆå…ˆå¿…é¡»å®‰è£…Mysqlï¼Œæœ¬æ•™ç¨‹æä¾›ä¸¤ç§Mysqlçš„å®‰è£…æ–¹æ³• é—®é¢˜æè¿°ä¸€èˆ¬é€šè¿‡yumçš„åœ¨çº¿å®‰è£…ï¼Œä½†æ˜¯å¦‚æœæ›´æ¢æºä»¥åä¼šå‡ºç°mysql-serveræŒ‰è£…åŒ…æ‰¾ä¸åˆ°çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯ä»¥è€ƒè™‘ç”¨rpmåŒ…æ¥å®‰è£…ï¼Œæœ€åå†æ‰§è¡Œyum install mysql-server rpmåŒ…çš„å®‰è£…æ–¹å¼ï¼šmysql_å…è´¹é«˜é€Ÿä¸‹è½½|ç™¾åº¦ç½‘ç›˜-åˆ†äº«æ— é™åˆ¶ (baidu.com) ,å…·ä½“å¦‚ä½•æ”¾æ–‡ä»¶ï¼Œè‡ªå·±å†³å®šï¼Œå¯ä»¥é€šè¿‡SFTPæ¥ä¼ è¾“ã€‚ Ï†(*ï¿£0ï¿£)å®‰è£…æ•°æ®åº“ 1.ä¼ è¾“å®Œæˆåï¼š yum -y install ä½ ä¸‹çš„åŒ….rpm è¿™æ ·åšçš„åŸå› æ˜¯é˜¿é‡Œå®˜ç½‘çš„yumåº“æ²¡æœ‰æ­¤è½¯ä»¶åŒ…ï¼Œæ‰€ä»¥ä½ å¿…é¡»è‡ªå·±å®‰è£…ä¾èµ–ã€‚ 2.å¦‚æœæ‰§è¡ŒæˆåŠŸåï¼š yum -y install mysql-server 3.å¯åŠ¨mysqlæœåŠ¡ï¼š systemctl start mysqld æˆ–è€… service mysqld start 4.è®¾ç½®mysqlæœåŠ¡è‡ªå¯åŠ¨ systemctl enable mysqld 5.æŸ¥çœ‹æ•°æ®åº“å¯†ç  cat /var/log/mysqld.log | grep password , æˆ–ç€ä½ ä¸æƒ³æŸ¥çœ‹ä¹Ÿå¯ä»¥ï¼Œå¯ä»¥åœ¨ &#x2F;etc&#x2F;my.cnf ä¸­ç¼–è¾‘ ï¼ŒåŠ å…¥ä¸€å¥è¯å« skip-grant-tables è¿™å¥è¯çš„æ„æ€æ˜¯è¯´ï¼Œå¯ä»¥ä¸ç”¨è¾“å…¥å¯†ç è¿›å…¥mysqlæœåŠ¡å™¨ä¸­ã€‚ mysql -uroot -p q(â‰§â–½â‰¦q)å½“è¿›å…¥æ•°æ®åº“ä¸­ é¦–å…ˆå…ˆæ‰§è¡Œä¸€ç¼– flush privileges; ç„¶åå†è¿›å…¥ä¿®æ”¹å¯†ç ï¼šset password for 'root'@'localhost'=password('ä½ çš„å¯†ç ');ï¼Œå¦‚æœæç¤ºå¯†ç ä¸ç¬¦åˆè§„å®šçš„è¯ã€‚ï¼ˆps å¦‚æœæ˜¯æ–°ç‰ˆçš„mysqlçš„è¯ç›´æ¥è¾“å…¥set password=\"xxxx\"å°±è¡Œ å°±æ‰§è¡Œ set global validate_password_policy=0; #å°†å¯†ç å¼ºåº¦è®¾ç½®ä¸ºæœ€ä½ ç„¶å flush privileges;æœ€åå†æ‰§è¡Œä¸€ä¸‹ä½ çš„setå¯†ç çš„è¯­å¥ï¼Œç„¶åå†flush privileges; æœ€åexitï¼Œå†è¿›å…¥mysqlè¯•è¯•ã€‚ ï¼ˆï¿£ï¸¶ï¿£ï¼‰â†— Mysqlçš„è¿œç¨‹è¿æ¥ å½“ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œå¦‚æœæˆåŠŸè¿›å…¥mysqläº†,çœ‹åˆ°mysql&gt;çš„è¯ï¼Œé‚£ä¹ˆå°±è¯•è¯•è¿œç¨‹è¿æ¥ é¦–å…ˆå…ˆ ï¼šuse mysql; ç¬¬äºŒæ­¥ ï¼šupdate user set host='%' where user ='root'; æœ€å ï¼š flush privileges; æœ€åï¼Œæœ€åï¼Œæœ€å ï¼ï¼ï¼ï¼ï¼ å¦‚æœè¿æ¥ä¸æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆè¯·å…³é—­é˜²ç«å¢™ï¼Œsystemctl stop firewalld.serviceæˆ–è€… firewall-cmd --zone=public --add-port=3306/tcp --permanentå¦‚æœæ‚¨ä½¿ç”¨é˜¿é‡Œäº‘çš„äº‘æœåŠ¡å™¨ï¼Œå› ä¸ºä½œè€…æ˜¯ä½¿ç”¨æœ¬æœºçš„linuxæœåŠ¡å™¨çš„ï¼Œæ‰€ä»¥å¤šä¸€ä¸ªæ­¥éª¤å°±æ˜¯å°†åœ¨é˜¿é‡Œäº‘å¼€å¯3306ç«¯å£ã€‚ äºŒï¼ŒLinuxçš„ç¦»çº¿çš„MySQL5.7å®‰è£…ğŸ˜˜ ( â€¢Ì€ Ï‰ â€¢Ì )âœ§é¦–å…ˆå…ˆè‡ªå·±ä¸‹è½½ https://dev.mysql.com/downloads/mysql/ Mysqlçš„ç¦»çº¿åŒ…ï¼Œé€‰æ‹©ç¬¬äºŒä¸ª64ä½çš„ Linux-Generic ä¸‹è½½äº†åŒ…ä»¥åç”¨SFTPè½¯ä»¶ä¼ åˆ°ä½ æƒ³å®‰è£…çš„ç›®å½•ä¸‹ ç¬¬ä¸€æ­¥ï¼šå…ˆçœ‹çœ‹LinuxæœåŠ¡å™¨ä¸­æœ‰æ²¡æœ‰ Mariadbï¼Œæœ‰çš„è¯å…ˆå¸è½½ï¼Œå¸è½½æ²¡é‡åˆ°è¿‡ï¼Œå¯ä»¥å»ç™¾åº¦ï¼Œä»¥ä¸ºä½œè€…çš„æœåŠ¡å™¨çš„å•¥æ ·ä¸æ˜¯ ç¬¬äºŒæ­¥ï¼šåˆ é™¤&#x2F;etc&#x2F;my.cnfæ–‡ä»¶ï¼Œå› ä¸ºä¼šå½±å“é…ç½®ï¼Œæ‰€ä»¥å…ˆå¸è½½äº†å†è¯´ï¼Œåé¢å¯ä»¥å†åŠ ä¸Šå» ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºmysqlç”¨æˆ·ç»„: groupadd mysql ç¬¬å››æ­¥ï¼šåŠ å…¥åˆ°mysqlç”¨æˆ·ç»„é‡Œé¢ useradd -g mysql mysql æ³¨æ„ï¼ï¼ä½œè€…ä¹‹å‰æ“ä½œé—®é¢˜ï¼Œå¥½åƒæœ‰mysqlç”¨æˆ·ç»„ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå…ˆæ‰§è¡Œä¸€ä¸‹ï¼Œæå‡æœ‰çš„è¯ï¼Œå¯ä»¥è·³è¿‡ç¬¬ä¸‰éƒ¨å’Œç¬¬å››æ­¥ è¿›å…¥ä½ åˆ›å»ºçš„ç›®å½•ä¸‹ï¼Œæ¯”å¦‚ mkdir /dataï¼Œå°†ä½ çš„å‹ç¼©åŒ…æ”¾åœ¨dataä¸‹é¢ï¼Œç„¶åæ‰§è¡Œè§£å‹æ“ä½œï¼štar -zxvf xxxxx.tar.gz è§£å‹ä»¥åå°†è§£å‹çš„æ–‡ä»¶è¿›è¡Œé‡å‘½åæ“ä½œ mv xxxx mysql ç„¶åæ–°å»ºä¸€ä¸ªvi /etc/my.cnfï¼Œå¹¶ä¸”åœ¨é‡Œé¢å†™ [mysql]default-character-set&#x3D;utf8socket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sock[mysqld]skip-name-resolveport&#x3D;3306socket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sockbasedir&#x3D;&#x2F;data&#x2F;mysql #ä¸»è¦è¿™é‡Œæ˜¯mysqlå®‰è£…è·¯å¾„datadir&#x3D;&#x2F;data&#x2F;mysql&#x2F;data #è¿™é‡Œä¸»è¦æ˜¯mysqlå­˜å‚¨è·¯å¾„ï¼Œä»¥ä½ åˆ›å»ºçš„ä¸ºä¾‹max_connections&#x3D;200character-set-server&#x3D;utf8default-storage-engine&#x3D;INNODBlower_case_table_names&#x3D;1max_allowed_packet&#x3D;16M :xä¿å­˜é€€å‡º ç¬¬äº”æ­¥ï¼šè®¾ç½®mysqlç”¨æˆ·ï¼š mkdir /var/lib/mysql mkdir /var/lib/mysql/mysql chown -R mysql:mysql /var/lib/mysql chown -R mysql:mysql /var/lib/mysql/mysql ç¬¬å…­æ­¥ï¼š è¿›å…¥å®‰è£…mysqlè½¯ä»¶ç›®å½• cd /data/mysql chown -R mysql:mysql ./ cd bin ./mysqld --user=mysql --basedir=/data/mysql --datadir=/data/mysql/data/ --initialize cd /data/mysql chown -R mysql:mysql data #ä¿®æ”¹å½“å‰dataç›®å½•æ‹¥æœ‰è€…ä¸ºmysqlç”¨æˆ· ç¬¬ä¸ƒæ­¥ï¼š ä¿®æ”¹æƒé™ï¼š chmod +x /etc/my.cnf å¤åˆ¶å¯åŠ¨è„šæœ¬åˆ°èµ„æºç›®å½•cd /home/mysql/ cp ./support-files/mysql.server /etc/init.d/mysqld åŠ å…¥æƒé™: chmod +x /etc/init.d/mysqld å°†mysqldæœåŠ¡åŠ å…¥åˆ°ç³»ç»ŸæœåŠ¡chkconfig --add mysqld æ£€æŸ¥mysqldæœåŠ¡æ˜¯å¦å·²ç»ç”Ÿæ•ˆchkconfig --list mysqldï¼Œå¦‚æœå‡ºç°mysqld 0:off 1:off 2:on 3:on 4:on 5:on 6 è¯´æ˜æˆåŠŸ å°†mysqlçš„binç›®å½•åŠ å…¥PATHç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘&#x2F;etc&#x2F;profileæ–‡ä»¶vi /etc/profile export PATH=$PATH:/data/mysql/bin source /etc/profile #æœ€åæ‰§è¡Œç”Ÿæ•ˆ ğŸåˆ°æœ€åmysqlç¦»çº¿ç‰ˆæœ¬ç®—æ˜¯å®‰è£…å®Œæˆäº†ï¼Œåé¢è¿œç¨‹è¿æ¥ï¼Œä¿®æ”¹å¯†ç æ“ä½œå‚è€ƒç¬¬ä¸€ä¸ªyumåœ¨çº¿å®‰æ•™ç¨‹çš„è¿æ¥æ–¹æ³•ã€‚ ä¸‰ï¼ŒLinuxå®Œå…¨å¸è½½MySQL5.7ğŸ˜˜ å¦‚æœè¦å®Œå®Œå…¨å…¨åˆ é™¤mysqlï¼Œä¸èƒ½ç”¨yum remove æ“ä½œï¼Œå› ä¸ºåˆ ä¸å¹²å‡€ï¼Œè¿˜ä¼šæœ‰æ®‹ç•™åŒ…ï¼Œå› ä¸ºä½œè€…æ˜¯ç¦»çº¿å®‰è£…æ‰€ä»¥æ²¡æœ‰å›¾ç‰‡å±•ç¤º é¦–å…ˆï¼šå…ˆæŸ¥çœ‹mysqlçš„ç»„ä»¶åŒ…: rpm -qa | grep -i mysql ç¬¬äºŒæ­¥ï¼šå…³é—­mysqlæœåŠ¡ï¼š service mysqld stop æˆ–è€… systemctl stop mysqld ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹mysqlå¯¹åº”æ–‡ä»¶å¤¹: find / -name mysql ç¬¬å››æ­¥ï¼šåˆ é™¤ç»„ä»¶ï¼šrpm -ev â€“nodeps xxxxç»„ä»¶åŒ…å ç¬¬äº”æ­¥ï¼šåˆ é™¤mysqlæ‰€ä»¥æœ‰é…ç½®æ–‡ä»¶å¤¹ï¼š rm -rf /var/lib/mysql,ä¸æ­¢è¿™ä¹ˆå¤šï¼Œç¬¬ä¸‰æ­¥åˆ—å‡ºæ¥çš„æœ‰ä»€ä¹ˆå°±åˆ é™¤ä»€ä¹ˆ æœ€åï¼šæ‰§è¡Œç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥å¦‚ä½•å•¥ä¹Ÿæ²¡æœ‰å°±è¯´æ˜å½»åº•å¸è½½äº†","categories":[],"tags":[]},{"title":"caddy å‡ºç°çš„é—®é¢˜","slug":"caddy","date":"2024-01-11T14:01:53.000Z","updated":"2024-01-12T01:49:03.592Z","comments":true,"path":"2024/01/11/caddy/","permalink":"http://example.com/2024/01/11/caddy/","excerpt":"","text":"Caddyè§£å†³404é—®é¢˜ è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯ç”±äºCaddyé»˜è®¤ä¸æ”¯æŒå•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„è·¯ç”±æœºåˆ¶å¯¼è‡´çš„ã€‚å½“æ‚¨åˆ·æ–°æµè§ˆå™¨æ—¶ï¼Œè¯·æ±‚ä¼šç›´æ¥å‘é€åˆ°CaddyæœåŠ¡å™¨ï¼Œç”±äºCaddyä¸çŸ¥é“å¦‚ä½•å¤„ç†è¿™ä¸ªç‰¹å®šçš„è·¯ç”±ï¼Œå› æ­¤è¿”å›404é”™è¯¯ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨éœ€è¦é…ç½®Caddyfileæ¥å¤„ç†å•é¡µåº”ç”¨çš„è·¯ç”±ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªCaddyfileçš„ç¤ºä¾‹é…ç½®ï¼Œå®ƒä¸ºæ‚¨çš„å•é¡µåº”ç”¨æä¾›äº†ä¸€ä¸ªé€šç”¨çš„å›é€€æœºåˆ¶ã€‚å®ƒå°†ç¡®ä¿æ‰€æœ‰æœªçŸ¥çš„è¯·æ±‚éƒ½ä¼šå›é€€åˆ°æ‚¨çš„index.htmlæ–‡ä»¶ï¼Œè¿™å°†å…è®¸å‰ç«¯è·¯ç”±å™¨æ­£ç¡®å¤„ç†è¯·æ±‚ï¼š 12345your_domain.comroot * /path/to/your/projectfile_servertry_files &#123;path&#125; /index.html åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè¯·æ›¿æ¢your_domain.comä¸ºæ‚¨çš„å®é™…åŸŸåï¼Œå°†&#x2F;path&#x2F;to&#x2F;your&#x2F;projectæ›¿æ¢ä¸ºæ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚è¿™ä¸ªé…ç½®æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªtry_filesæŒ‡ä»¤ï¼Œå®ƒä¼šå°è¯•æŒ‰ç…§é¡ºåºæä¾›åˆ—è¡¨ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœå½“å‰è¯·æ±‚çš„è·¯å¾„åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å­˜åœ¨ï¼Œå®ƒä¼šå›é€€åˆ°&#x2F;index.htmlæ–‡ä»¶ã€‚è¿™å°†ç¡®ä¿å½“æ‚¨åˆ·æ–°æµè§ˆå™¨æ—¶ï¼Œå‰ç«¯è·¯ç”±å™¨å¯ä»¥æ¥ç®¡å¹¶æ­£ç¡®å¤„ç†è¯·æ±‚ã€‚ä¿å­˜æ›´æ”¹åï¼Œé‡æ–°å¯åŠ¨CaddyæœåŠ¡ä»¥åº”ç”¨æ–°çš„é…ç½®ã€‚ç°åœ¨ï¼Œæ‚¨çš„å•é¡µåº”ç”¨åº”è¯¥å¯ä»¥åœ¨åˆ·æ–°æµè§ˆå™¨åæ­£å¸¸å·¥ä½œã€‚ åœ¨Caddyfileä¸­ï¼Œ{path}æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œè¡¨ç¤ºå½“å‰è¯·æ±‚çš„è·¯å¾„ã€‚å½“ä½¿ç”¨try_filesæŒ‡ä»¤æ—¶ï¼Œå®ƒä¼šå°è¯•æŒ‰ç…§åˆ—è¡¨ä¸­çš„é¡ºåºæä¾›æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­: 1try_files &#123;path&#125; /index.html {path}è¡¨ç¤ºå½“å‰è¯·æ±‚çš„å®é™…è·¯å¾„ã€‚try_filesé¦–å…ˆå°è¯•ä½¿ç”¨è¿™ä¸ªè·¯å¾„æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚å¦‚æœæ‰¾åˆ°äº†åŒ¹é…çš„æ–‡ä»¶ï¼ŒCaddyä¼šå°†è¯¥æ–‡ä»¶æä¾›ç»™å®¢æˆ·ç«¯ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡ä»¶ï¼Œtry_fileså°†æŒ‰ç…§åˆ—è¡¨ä¸­çš„é¡ºåºå°è¯•ä¸‹ä¸€ä¸ªé€‰é¡¹ï¼Œè¿™é‡Œæ˜¯&#x2F;index.htmlã€‚æ‰€ä»¥{path}ç¡®ä¿Caddyé¦–å…ˆå°è¯•æä¾›å½“å‰è¯·æ±‚çš„å®é™…è·¯å¾„ã€‚å¦‚æœæ‰¾ä¸åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œå®ƒå°†å›é€€åˆ°&#x2F;index.htmlã€‚è¿™åœ¨å¤„ç†å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­çš„å‰ç«¯è·¯ç”±æ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ç¡®ä¿å½“è¯·æ±‚çš„è·¯å¾„åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å­˜åœ¨æ—¶ï¼Œå‰ç«¯è·¯ç”±å™¨ä»ç„¶å¯ä»¥æ¥ç®¡å¹¶æ­£ç¡®å¤„ç†è¯·æ±‚ã€‚ å¦‚æœè¿™ä¸ªä»¥ä¸Šæ–¹æ³•ä¸æˆåŠŸçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š ä½ çš„é—®é¢˜å¯èƒ½ä¸Caddyé…ç½®æ–‡ä»¶çš„å¤„ç†é¡ºåºæœ‰å…³ã€‚è¯·å°è¯•ä»¥ä¸‹Caddyfileé…ç½®ï¼š 12345678your_domain.comroot * /path/to/your/projectfile_serverrewrite * &#123;path&#125; /index.htmlroute &#123; try_files &#123;path&#125; /index.html&#125; è¿™ä¸ªé…ç½®æ–‡ä»¶é¦–å…ˆå°è¯•ä½¿ç”¨rewriteæŒ‡ä»¤é‡å†™æ‰€æœ‰è¯·æ±‚ã€‚ç„¶åï¼Œå®ƒä½¿ç”¨routeå—æ¥å®šä¹‰ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æµç¨‹ã€‚try_filesæŒ‡ä»¤è¢«åŒ…å«åœ¨routeå—å†…ï¼Œå®ƒé¦–å…ˆå°è¯•æä¾›å½“å‰è¯·æ±‚çš„å®é™…è·¯å¾„ï¼ˆ{path}ï¼‰ï¼Œå¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„æ–‡ä»¶ï¼Œåˆ™ä¼šå›é€€åˆ°&#x2F;index.htmlã€‚è¯·å°†your_domain.comæ›¿æ¢ä¸ºæ‚¨çš„å®é™…åŸŸåï¼Œå°†&#x2F;path&#x2F;to&#x2F;your&#x2F;projectæ›¿æ¢ä¸ºæ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚æ›´æ–°Caddyfileåï¼Œé‡æ–°å¯åŠ¨CaddyæœåŠ¡ä»¥åº”ç”¨æ–°çš„é…ç½®ã€‚åˆ·æ–°æµè§ˆå™¨åï¼Œæ‚¨çš„å•é¡µåº”ç”¨åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æ£€æŸ¥Caddyçš„æ—¥å¿—ä»¥è·å–æœ‰å…³é”™è¯¯çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¹¶ç¡®ä¿æ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹å’Œindex.htmlæ–‡ä»¶çš„è·¯å¾„æ­£ç¡®ã€‚ Caddyæ—¥å¿— Caddyçš„æ—¥å¿—ä½ç½®å–å†³äºæ‚¨çš„æ“ä½œç³»ç»Ÿå’ŒCaddyçš„å®‰è£…æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¯èƒ½çš„æ—¥å¿—ä½ç½®ï¼šå¦‚æœæ‚¨æ˜¯é€šè¿‡å‘½ä»¤è¡Œæ‰‹åŠ¨è¿è¡ŒCaddyï¼ˆä¾‹å¦‚ï¼šcaddy runï¼‰ï¼Œåˆ™æ—¥å¿—å°†ç›´æ¥è¾“å‡ºåˆ°å‘½ä»¤è¡Œç»ˆç«¯ã€‚å¦‚æœæ‚¨æ˜¯ä½¿ç”¨Systemdç®¡ç†çš„CaddyæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ—¥å¿—ï¼šsudo journalctl -u caddy --since todayè¿™å°†æ˜¾ç¤ºä»Šå¤©çš„CaddyæœåŠ¡æ—¥å¿—ã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒæ•´â€“sinceå‚æ•°æ¥æŸ¥çœ‹æ›´æ—©çš„æ—¥å¿—ã€‚å¦‚æœCaddyå·²é…ç½®ä¸ºå°†æ—¥å¿—å†™å…¥æ–‡ä»¶ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦æŸ¥æ‰¾Caddyfileä¸­æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚ä¾‹å¦‚ï¼ŒCaddyfileä¸­å¯èƒ½åŒ…å«å¦‚ä¸‹é…ç½®ï¼š 123log &#123; output file /var/log/caddy/caddy.log&#125; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åœ¨&#x2F;var&#x2F;log&#x2F;caddy&#x2F;caddy.logæ‰¾åˆ°æ—¥å¿—ã€‚å¦‚æœæ‚¨ä¸ç¡®å®šå¦‚ä½•é…ç½®Caddyä»¥å°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œè¯·å‚è€ƒä»¥ä¸‹Caddyfileç¤ºä¾‹ï¼š 12345678910your_domain.comroot * /path/to/your/projectfile_servertry_files &#123;path&#125; /index.htmllog &#123; output file /path/to/your/log/caddy.log format console&#125; å°†&#x2F;path&#x2F;to&#x2F;your&#x2F;logæ›¿æ¢ä¸ºæ‚¨å¸Œæœ›å­˜å‚¨æ—¥å¿—æ–‡ä»¶çš„ç›®å½•ã€‚è¿™å°†ä½¿Caddyå°†å…¶æ—¥å¿—è¾“å‡ºåˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå®‰è£…æ–¹å¼å¯èƒ½ä¼šå½±å“Caddyæ—¥å¿—çš„ä½ç½®ã€‚å¦‚æœæ‚¨æ— æ³•åœ¨ä¸Šè¿°ä½ç½®æ‰¾åˆ°æ—¥å¿—ï¼Œè¯·æŸ¥çœ‹Caddyæ–‡æ¡£æˆ–æ‚¨æ“ä½œç³»ç»Ÿçš„æ–‡æ¡£ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚","categories":[],"tags":[]}],"categories":[],"tags":[]}